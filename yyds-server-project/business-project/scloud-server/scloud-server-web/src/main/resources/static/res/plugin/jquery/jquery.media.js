!function(u){"use strict";var a=document.documentMode||0,h=/MSIE/.test(navigator.userAgent),c=h&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||a<9);u.fn.media=function(o,p,d){return"undo"==o?this.each(function(){var a=u(this),e=a.data("media.origHTML");e&&a.replaceWith(e)}):this.each(function(){"function"==typeof o&&(d=p,p=o,o={});var a=function(a,e){var t,i;e=e||{};var r=u(a),s=a.className||"",n=u.metadata?r.metadata():u.meta?r.data():{},l=(n=n||{}).width||parseInt((s.match(/\bw:(\d+)/)||[])[1]||0,10)||parseInt((s.match(/\bwidth:(\d+)/)||[])[1]||0,10),o=n.height||parseInt((s.match(/\bh:(\d+)/)||[])[1]||0,10)||parseInt((s.match(/\bheight:(\d+)/)||[])[1]||0,10);l&&(n.width=l);o&&(n.height=o);s&&(n.cls=s);for(var p="data-",d=0;d<a.attributes.length;d++){t=a.attributes[d],0===(i=u.trim(t.name)).indexOf(p)&&(i=i.substring(p.length),n[i]=t.value)}t=u.fn.media.defaults;var m=e,f=n,h={params:{bgColor:e.bgColor||u.fn.media.defaults.bgColor}},c=u.extend({},t,m,f);u.each(["attrs","params","flashvars","silverlight"],function(a,e){c[e]=u.extend({},h[e]||{},t[e]||{},m[e]||{},f[e]||{})}),void 0===c.caption&&(c.caption=r.text());return c.src=c.src||r.attr("href")||r.attr("src")||"unknown",c}(this,o);"function"==typeof p&&p(this,a);var e,t=function(){var a="";for(var e in u.fn.media.defaults.players)a.length&&(a+=","),a+=u.fn.media.defaults.players[e].types;return new RegExp("\\.("+a.replace(/,/gi,"|")+")\\b")}().exec(a.src.toLowerCase())||[""];a.type?t[0]=a.type:t.shift();for(var i=0;i<t.length;i++)if(m((e=t[i].toLowerCase())[0])&&(e="fn"+e),u.fn.media[e]){var r=u.fn.media[e+"_player"];if(a.params||(a.params={}),r){var s="autostart"==r.autoplayAttr;a.params[r.autoplayAttr||"autoplay"]=s?a.autoplay?1:0:!!a.autoplay}var n=u.fn.media[e](this,a);if(n.css("backgroundColor",a.bgColor).width(a.width),a.canUndo){var l=u("<div></div>").append(this);n.data("media.origHTML",l.html())}"function"==typeof d&&d(this,n[0],a,r.name);break}})},u.fn.media.mapFormat=function(a,e){a&&e&&u.fn.media.defaults.players[e]&&(m((a=a.toLowerCase())[0])&&(a="fn"+a),u.fn.media[a]=u.fn.media[e],u.fn.media[a+"_player"]=u.fn.media.defaults.players[e])},u.fn.media.defaults={standards:!0,canUndo:!0,width:400,height:400,autoplay:0,bgColor:"#ffffff",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}},u.fn.media.defaults.players={flash:{name:"flash",title:"Flash",types:"flv,mp3,swf",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+u.fn.media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",types:"ra,ram,rm,rpm,rv,smi,smil",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",types:"asx,asf,avi,wma,wmv",mimetype:function(){for(var a=navigator.plugins||[],e=0;e<a.length;e++){if("np-mswmp.dll"==a[e].filename)return!0}return!1}()?"application/x-ms-wmp":"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image",types:"gif,png,jpg"},iframe:{name:"iframe",types:"html,pdf"},silverlight:{name:"silverlight",types:"xaml"}};var p=1;for(var i in u.fn.media.defaults.players){var e=u.fn.media.defaults.players[i].types;u.each(e.split(","),function(a,e){var t;m(e[0])&&(e="fn"+e),u.fn.media[e]=u.fn.media[i]=(t=i,function(a,e){return d(a,e,t)}),u.fn.media[e+"_player"]=u.fn.media.defaults.players[i]})}function m(a){return-1<"0123456789".indexOf(a)}function d(a,e,t){var i,r,s,n=u(a),l=u.fn.media.defaults.players[t];if("iframe"==t)(l=u('<iframe width="'+e.width+'" height="'+e.height+'" >')).attr("src",e.src),l.css("backgroundColor",l.bgColor);else if("img"==t)(l=u("<img>")).attr("src",e.src),e.width&&l.attr("width",e.width),e.height&&l.attr("height",e.height),l.css("backgroundColor",l.bgColor);else if(c){for(r in i=['<object width="'+e.width+'" height="'+e.height+'" '],e.attrs)i.push(r+'="'+e.attrs[r]+'" ');for(r in l.ieAttrs||{})s=l.ieAttrs[r],"codebase"==r&&"https:"==window.location.protocol&&(s=s.replace("http","https")),i.push(r+'="'+s+'" ');i.push("></object>");var o=['<param name="'+(l.oUrl||"src")+'" value="'+e.src+'">'];for(r in e.params)o.push('<param name="'+r+'" value="'+e.params[r]+'">');l=document.createElement(i.join(""));for(var p=0;p<o.length;p++)l.appendChild(document.createElement(o[p]))}else if(e.standards){if(i=['<object type="'+l.mimetype+'" width="'+e.width+'" height="'+e.height+'"'],e.src&&i.push(' data="'+e.src+'" '),h)for(r in l.ieAttrs||{})s=l.ieAttrs[r],"codebase"==r&&"https:"==window.location.protocol&&(s=s.replace("http","https")),i.push(r+'="'+s+'" ');for(r in i.push(">"),i.push('<param name="'+(l.oUrl||"src")+'" value="'+e.src+'">'),e.params)"wmode"==r&&"flash"!=t||i.push('<param name="'+r+'" value="'+e.params[r]+'">');i.push("<div><p><strong>"+l.title+" Required</strong></p><p>"+l.title+' is required to view this media. <a href="'+l.pluginspage+'">Download Here</a>.</p></div>'),i.push("</object>")}else{for(r in i=['<embed width="'+e.width+'" height="'+e.height+'" style="display:block"'],e.src&&i.push(' src="'+e.src+'" '),e.attrs)i.push(r+'="'+e.attrs[r]+'" ');for(r in l.eAttrs||{})i.push(r+'="'+l.eAttrs[r]+'" ');for(r in e.params)"wmode"==r&&"flash"!=t||i.push(r+'="'+e.params[r]+'" ');i.push("></embed>")}var d=a.id?' id="'+a.id+'"':"",m=e.cls?' class="'+e.cls+'"':"",f=u("<div"+d+m+">");return n.after(f).remove(),c||"iframe"==t||"img"==t?f.append(l):f.html(i.join("")),e.caption&&u("<div>").appendTo(f).html(e.caption),f}u.fn.media.swf=function(a,e){var t,i;if(!window.SWFObject&&!window.swfobject){if(e.flashvars){var r=[];for(t in e.flashvars)r.push(t+"="+e.flashvars[t]);e.params||(e.params={}),e.params.flashvars=r.join("&")}return d(a,e,"flash")}var s=a.id?' id="'+a.id+'"':"",n=e.cls?' class="'+e.cls+'"':"",l=u("<div"+s+n+">");if(window.swfobject)u(a).after(l).appendTo(l),a.id||(a.id="movie_player_"+p++),window.swfobject.embedSWF(e.src,a.id,e.width,e.height,e.flashVersion,e.expressInstaller,e.flashvars,e.params,e.attrs);else{u(a).after(l).remove();var o=new SWFObject(e.src,"movie_player_"+p++,e.width,e.height,e.flashVersion,e.bgColor);for(i in e.expressInstaller&&o.useExpressInstall(e.expressInstaller),e.params)"bgColor"!=i&&o.addParam(i,e.params[i]);for(t in e.flashvars)o.addVariable(t,e.flashvars[t]);o.write(l[0])}return e.caption&&u("<div>").appendTo(l).html(e.caption),l},u.fn.media.flv=u.fn.media.mp3=function(a,e){var t=e.src,i=/\.mp3\b/i.test(t)?e.mp3Player:e.flvPlayer,r=e.flvKeyName;t=encodeURIComponent(t),e.src=i,e.src=e.src+"?"+r+"="+t;var s={};return s[r]=t,e.flashvars=u.extend({},s,e.flashvars),u.fn.media.swf(a,e)},u.fn.media.xaml=function(a,e){if(!window.Sys||!window.Sys.Silverlight){if(u.fn.media.xaml.warning)return;return u.fn.media.xaml.warning=1,void alert("You must include the Silverlight.js script.")}var t={width:e.width,height:e.height,background:e.bgColor,inplaceInstallPrompt:e.silverlight.inplaceInstallPrompt,isWindowless:e.silverlight.isWindowless,framerate:e.silverlight.framerate,version:e.silverlight.version},i={onError:e.silverlight.onError,onLoad:e.silverlight.onLoad},r=a.id?' id="'+a.id+'"':"",s=e.id||"AG"+p++,n=e.cls?' class="'+e.cls+'"':"",l=u("<div"+r+n+">");return u(a).after(l).remove(),Sys.Silverlight.createObjectEx({source:e.src,initParams:e.silverlight.initParams,userContext:e.silverlight.userContext,id:s,parentElement:l[0],properties:t,events:i}),e.caption&&u("<div>").appendTo(l).html(e.caption),l}}(jQuery);