"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,V,M){"use strict";var N,R=V.isDefined,v=V.isFunction,F=V.isString,D=V.isObject,U=V.isArray,T=V.forEach,z=V.extend,L=V.copy,$=V.toJson;function J(e,t){return z(new(z(function(){},{prototype:e})),t)}function b(r){return T(arguments,function(e){e!==r&&T(e,function(e,t){r.hasOwnProperty(t)||(r[t]=e)})}),r}function K(e){if(Object.keys)return Object.keys(e);var r=[];return T(e,function(e,t){r.push(t)}),r}function Y(e,t,r){if(Array.prototype.indexOf)return e.indexOf(t,Number(r)||0);var n=e.length>>>0,a=Number(r)||0;for((a=a<0?Math.ceil(a):Math.floor(a))<0&&(a+=n);a<n;a++)if(a in e&&e[a]===t)return a;return-1}function B(e,t,r,n){var a,i=function(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}(r,n),o={},u=[];for(var s in i)if(i[s]&&i[s].params&&(a=K(i[s].params)).length)for(var l in a)0<=Y(u,a[l])||(u.push(a[l]),o[a[l]]=e[a[l]]);return z({},o,t)}function s(e,t,r){if(!r)for(var n in r=[],e)r.push(n);for(var a=0;a<r.length;a++){var i=r[a];if(e[i]!=t[i])return!1}return!0}function G(e,t){var r={};return T(e,function(e){r[e]=t[e]}),r}function H(t){var r={},e=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return T(e,function(e){e in t&&(r[e]=t[e])}),r}function S(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)-1==Y(r,n)&&(t[n]=e[n]);return t}function m(e,r){var n=U(e),a=n?[]:{};return T(e,function(e,t){r(e,t)&&(a[n?a.length:t]=e)}),a}function X(e,r){var n=U(e)?[]:{};return T(e,function(e,t){n[t]=r(e,t)}),n}function t(d,g){var e={},u=[],y=e,w=z(d.when(e),{$$promises:e,$$values:e});this.study=function(a){if(!D(a))throw new Error("'invocables' must be an object");var $=K(a||{}),v=[],i=[],o={};function m(e){return D(e)&&e.then&&e.$$promises}return T(a,function t(e,r){if(2!==o[r]){if(i.push(r),1===o[r])throw i.splice(0,Y(i,r)),new Error("Cyclic dependency: "+i.join(" -> "));if(o[r]=1,F(e))v.push(r,[function(){return g.get(e)}],u);else{var n=g.annotate(e);T(n,function(e){e!==r&&a.hasOwnProperty(e)&&t(a[e],e)}),v.push(r,e,n)}i.pop(),o[r]=2}}),a=i=o=null,function(u,e,s){if(m(u)&&s===M&&(s=e,e=u,u=null),u){if(!D(u))throw new Error("'locals' must be an object")}else u=y;if(e){if(!m(e))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else e=w;var t=d.defer(),l=t.promise,c=l.$$promises={},f=z({},u),r=1+v.length/3,n=!1;function p(){--r||(n||b(f,e.$$values),l.$$values=f,l.$$promises=l.$$promises||!0,delete l.$$inheritedValues,t.resolve(f))}function h(e){l.$$failure=e,t.reject(e)}if(R(e.$$failure))return h(e.$$failure),l;e.$$inheritedValues&&b(f,S(e.$$inheritedValues,$)),z(c,e.$$promises),e.$$values?(n=b(f,S(e.$$values,$)),l.$$inheritedValues=S(e.$$values,$),p()):(e.$$inheritedValues&&(l.$$inheritedValues=S(e.$$inheritedValues,$)),e.then(p,h));for(var a=0,i=v.length;a<i;a+=3)u.hasOwnProperty(v[a])?p():o(v[a],v[a+1],v[a+2]);function o(t,e,r){var n=d.defer(),a=0;function i(e){n.reject(e),h(e)}function o(){if(!R(l.$$failure))try{n.resolve(g.invoke(e,s,f)),n.promise.then(function(e){f[t]=e,p()},i)}catch(e){i(e)}}T(r,function(t){c.hasOwnProperty(t)&&!u.hasOwnProperty(t)&&(a++,c[t].then(function(e){f[t]=e,--a||o()},i))}),a||o(),c[t]=n.promise}return l}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function r(r,n,a){this.fromConfig=function(e,t,r){return R(e.template)?this.fromString(e.template,t):R(e.templateUrl)?this.fromUrl(e.templateUrl,t):R(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return v(e)?e(t):e},this.fromUrl=function(e,t){return v(e)&&(e=e(t)),null==e?null:r.get(e,{cache:n,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return a.invoke(e,null,r||{params:t})}}function l(u,s,e){s=z({params:{}},D(s)?s:{});var t,r,n,a,i=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,o=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",c=0,f=this.segments=[],p=e?e.params:{},h=this.params=e?e.params.$$new():new N.ParamSet,$=[];function v(e,t,r,n){if($.push(e),p[e])return p[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+u+"'");if(h[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+u+"'");return h[e]=new N.Param(e,t,r,n),h[e]}function m(e,t,r,n){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(r){case!1:a=["(",")"+(n?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+r+"|",")?"]}return i+a[0]+t+a[1]}function d(e,t){var r,n,a,i,o;return r=e[2]||e[3],o=s.params[r],a=u.substring(c,e.index),(n=t?e[4]:e[4]||("*"==e[1]?".*":null))&&(i=N.type(n)||J(N.type("string"),{pattern:new RegExp(n,s.caseInsensitive?"i":M)})),{id:r,regexp:n,segment:a,type:i,cfg:o}}for(this.source=u;(t=i.exec(u))&&!(0<=(r=d(t,!1)).segment.indexOf("?"));)n=v(r.id,r.type,r.cfg,"path"),l+=m(r.segment,n.type.pattern.source,n.squash,n.isOptional),f.push(r.segment),c=i.lastIndex;var g=(a=u.substring(c)).indexOf("?");if(0<=g){var y=this.sourceSearch=a.substring(g);if(a=a.substring(0,g),this.sourcePath=u.substring(0,c+g),0<y.length)for(c=0;t=o.exec(y);)n=v((r=d(t,!0)).id,r.type,r.cfg,"search"),c=i.lastIndex}else this.sourcePath=u,this.sourceSearch="";l+=m(a)+(!1===s.strict?"/?":"")+"$",f.push(a),this.regexp=new RegExp(l,s.caseInsensitive?"i":M),this.prefix=f[0],this.$$paramNames=$}function d(e){z(this,e)}function n(c,u){var f,p=[],h=null,$=!1;function s(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return!R(n)||n}function e(u,e,a,t,s){var i,l=t.baseHref(),r=u.url();function n(e){if(!e||!e.defaultPrevented){i&&u.url();i=M;var t,r=p.length;for(t=0;t<r;t++)if(n(p[t]))return;h&&n(h)}function n(e){var t=e(a,u);return!!t&&(F(t)&&u.replace().url(t),!0)}}function o(){return f=f||e.$on("$locationChangeSuccess",n)}return $||o(),{sync:function(){n()},listen:function(){return o()},update:function(e){e?r=u.url():u.url()!==r&&(u.url(r),u.replace())},push:function(e,t,r){var n=e.format(t||{});null!==n&&t&&t["#"]&&(n+="#"+t["#"]),u.url(n),i=r&&r.$$avoidResync?u.url():M,r&&r.replace&&u.replace()},href:function(e,t,r){if(!e.validates(t))return null;var n=c.html5Mode();V.isObject(n)&&(n=n.enabled),n=n&&s.history;var a=e.format(t);if(r=r||{},n||null===a||(a="#"+c.hashPrefix()+a),null!==a&&t&&t["#"]&&(a+="#"+t["#"]),a=function(e,t,r){return"/"===l?e:t?l.slice(0,-1)+e:r?l.slice(1)+e:e}(a,n,r.absolute),!r.absolute||!a)return a;var i=!n&&a?"/":"",o=u.port();return o=80===o||443===o?"":":"+o,[u.protocol(),"://",u.host(),o,i,a].join("")}}}this.rule=function(e){if(!v(e))throw new Error("'rule' must be a function");return p.push(e),this},this.otherwise=function(e){if(F(e)){var t=e;e=function(){return t}}else if(!v(e))throw new Error("'rule' must be a function");return h=e,this},this.when=function(e,t){var a,i=F(t);if(F(e)&&(e=u.compile(e)),!i&&!v(t)&&!U(t))throw new Error("invalid 'handler' in when()");var r={matcher:function(r,n){return i&&(a=u.compile(n),n=["$match",function(e){return a.format(e)}]),z(function(e,t){return s(e,n,r.exec(t.path(),t.search()))},{prefix:F(r.prefix)?r.prefix:""})},regex:function(r,n){if(r.global||r.sticky)throw new Error("when() RegExp must not be global or sticky");return i&&(a=n,n=["$match",function(e){return function(e,r){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return r["$"===t?0:Number(t)]})}(a,e)}]),z(function(e,t){return s(e,n,r.exec(t.path()))},{prefix:function(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}(r)})}},n={matcher:u.isMatcher(e),regex:e instanceof RegExp};for(var o in n)if(n[o])return this.rule(r[o](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===M&&(e=!0),$=e},(this.$get=e).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function a(a,n){var O,q,f={},i={},C="abstract",o={parent:function(e){if(R(e.parent)&&e.parent)return I(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?I(t[1]):O},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=J(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(F(t))return"^"==t.charAt(0)?n.compile(t.substring(1),r):(e.parent.navigable||O).url.concat(t,r);if(!t||n.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var r=e.url&&e.url.params||new N.ParamSet;return T(e.params||{},function(e,t){r[t]||(r[t]=new N.Param(t,null,e,"config"))}),r},params:function(e){var t=H(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?z(e.parent.params.$$new(),t):new N.ParamSet},views:function(r){var n={};return T(R(r.views)?r.views:{"":r},function(e,t){t.indexOf("@")<0&&(t+="@"+r.parent.name),e.resolveAs=e.resolveAs||r.resolveAs||"$resolve",n[t]=e}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?z({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};function I(e,t){if(!e)return M;var r=F(e),n=r?e:e.name;if(function(e){return 0===e.indexOf(".")||0===e.indexOf("^")}(n)){if(!t)throw new Error("No reference point given for path '"+n+"'");t=I(t);for(var a=n.split("."),i=0,o=a.length,u=t;i<o;i++)if(""!==a[i]||0!==i){if("^"!==a[i])break;if(!u.parent)throw new Error("Path '"+n+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;a=a.slice(i).join("."),n=u.name+(u.name&&a?".":"")+a}var s=f[n];return!s||!r&&(r||s.name!==e.name&&s.self!==e)?M:s}function u(r){var e=(r=J(r,{self:r,resolve:r.resolve||{},toString:function(){return this.name}})).name;if(!F(e)||0<=e.indexOf("@"))throw new Error("State must have a valid name");var t=-1!==e.indexOf(".")?e.substring(0,e.lastIndexOf(".")):F(r.parent)?r.parent:D(r.parent)&&F(r.parent.name)?r.parent.name:"";if(t&&!f[t])return function(e,t){i[e]||(i[e]=[]),i[e].push(t)}(t,r.self);for(var n in o)v(o[n])&&(r[n]=o[n](r,o.$delegates[n]));return!(f[e]=r)[C]&&r.url&&a.when(r.url,["$match","$stateParams",function(e,t){q.$current.navigable==r&&s(e,t)||q.transitionTo(r,e,{inherit:!0,location:!1})}]),function(e){for(var t=i[e]||[];t.length;)u(t.shift())}(e),r}function e(y,w,l,b,c,S,E,e,t){var x=w.reject(new Error("transition superseded")),P=w.reject(new Error("transition prevented")),j=w.reject(new Error("transition aborted")),A=w.reject(new Error("transition failed"));function k(i,e,t,r,o,u){var s=t?e:G(i.params.$$keys(),e),n={$stateParams:s};o.resolve=c.resolve(i.resolve,n,o.resolve,i);var a=[o.resolve.then(function(e){o.globals=e})];return r&&a.push(r),w.all(a).then(function(){var e=[];return T(i.views,function(r,n){var a=r.resolve&&r.resolve!==i.resolve?r.resolve:{};a.$template=[function(){return l.load(n,{view:r,locals:o.globals,params:s,notify:u.notify})||""}],e.push(c.resolve(a,o.globals,o.resolve,i).then(function(e){if(v(r.controllerProvider)||U(r.controllerProvider)){var t=V.extend({},a,o.globals);e.$$controller=b.invoke(r.controllerProvider,null,t)}else e.$$controller=r.controller;e.$$state=i,e.$$controllerAs=r.controllerAs,e.$$resolveAs=r.resolveAs,o[n]=e}))}),w.all(e).then(function(){return o.globals})}).then(function(e){return o})}return O.locals={resolve:null,globals:{$stateParams:{}}},(q={params:{},current:O.self,$current:O,transition:null,reload:function(e){return q.transitionTo(q.current,S,{reload:e||!0,inherit:!1,notify:!0})},go:function(e,t,r){return q.transitionTo(e,t,z({inherit:!0,relative:q.$current},r))}}).transitionTo=function(n,a,i){a=a||{},i=z({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var o=q.$current,u=q.params,s=o.path,e=I(n,i.relative),t=a["#"];if(!R(e)){var r={to:n,toParams:a,options:i},l=function(e,t,r,n){var a=y.$broadcast("$stateNotFound",e,t,r);if(a.defaultPrevented)return E.update(),j;if(!a.retry)return null;if(n.$retry)return E.update(),A;var i=q.transition=w.when(a.retry);return i.then(function(){return i!==q.transition?x:(e.options.$retry=!0,q.transitionTo(e.to,e.toParams,e.options))},function(){return j}),E.update(),i}(r,o.self,u,i);if(l)return l;if(a=r.toParams,e=I(n=r.to,(i=r.options).relative),!R(e)){if(!i.relative)throw new Error("No such state '"+n+"'");throw new Error("Could not resolve '"+n+"' from state '"+i.relative+"'")}}if(e[C])throw new Error("Cannot transition to abstract state '"+n+"'");if(i.inherit&&(a=B(S,a||{},q.$current,e)),!e.params.$$validates(a))return A;a=e.params.$$values(a);var c=(n=e).path,f=0,p=c[f],h=O.locals,$=[];if(i.reload){if(F(i.reload)||D(i.reload)){if(D(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var v=!0===i.reload?s[0]:I(i.reload);if(i.reload&&!v)throw new Error("No such reload state '"+(F(i.reload)?i.reload:i.reload.name)+"'");for(;p&&p===s[f]&&p!==v;)h=$[f]=p.locals,p=c[++f]}}else for(;p&&p===s[f]&&p.ownParams.$$equals(a,u);)h=$[f]=p.locals,p=c[++f];if(function(e,t,r,n,a,i){if(!i.reload&&e===r&&(a===r.locals||!1===e.self.reloadOnSearch&&function(t,e,r){var n=t.params.$$keys().filter(function(e){return"search"!=t.params[e].location}),a=H.apply({},[t.params].concat(n));return new N.ParamSet(a).$$equals(e,r)}(r,n,t)))return!0}(n,a,o,u,h,i))return t&&(a["#"]=t),q.params=a,L(q.params,S),L(G(n.params.$$keys(),S),n.locals.globals.$stateParams),i.location&&n.navigable&&n.navigable.url&&(E.push(n.navigable.url,a,{$$avoidResync:!0,replace:"replace"===i.location}),E.update(!0)),q.transition=null,w.when(q.current);if(a=G(n.params.$$keys(),a||{}),t&&(a["#"]=t),i.notify&&y.$broadcast("$stateChangeStart",n.self,a,o.self,u,i).defaultPrevented)return y.$broadcast("$stateChangeCancel",n.self,a,o.self,u),null==q.transition&&E.update(),P;for(var m=w.when(h),d=f;d<c.length;p=c[++d])h=$[d]=J(h),m=k(p,a,p===n,m,h,i);var g=q.transition=m.then(function(){var e,t,r;if(q.transition!==g)return x;for(e=s.length-1;f<=e;e--)(r=s[e]).self.onExit&&b.invoke(r.self.onExit,r.self,r.locals.globals),r.locals=null;for(e=f;e<c.length;e++)(t=c[e]).locals=$[e],t.self.onEnter&&b.invoke(t.self.onEnter,t.self,t.locals.globals);return q.transition!==g?x:(q.$current=n,q.current=n.self,q.params=a,L(q.params,S),q.transition=null,i.location&&n.navigable&&E.push(n.navigable.url,n.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&y.$broadcast("$stateChangeSuccess",n.self,a,o.self,u),E.update(!0),q.current)},function(e){return q.transition!==g?x:(q.transition=null,y.$broadcast("$stateChangeError",n.self,a,o.self,u,e).defaultPrevented||E.update(),w.reject(e))});return g},q.is=function(e,t,r){var n=I(e,(r=z({relative:q.$current},r||{})).relative);return R(n)?q.$current===n&&(!t||s(n.params.$$values(t),S)):M},q.includes=function(e,t,r){if(r=z({relative:q.$current},r||{}),F(e)&&function(e){return-1<e.indexOf("*")}(e)){if(!function(e){for(var t=e.split("."),r=q.$current.name.split("."),n=0,a=t.length;n<a;n++)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(Y(r,t[1]))).unshift("**"),"**"===t[t.length-1]&&(r.splice(Y(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length==r.length&&r.join("")===t.join("")}(e))return!1;e=q.$current.name}var n=I(e,r.relative);return R(n)?!!R(q.$current.includes[n.name])&&(!t||s(n.params.$$values(t),S,K(t))):M},q.href=function(e,t,r){var n=I(e,(r=z({lossy:!0,inherit:!0,absolute:!1,relative:q.$current},r||{})).relative);if(!R(n))return null;r.inherit&&(t=B(S,t||{},q.$current,n));var a=n&&r.lossy?n.navigable:n;return a&&a.url!==M&&null!==a.url?E.href(a.url,G(n.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},q.get=function(e,t){if(0===arguments.length)return X(K(f),function(e){return f[e].self});var r=I(e,t||q.$current);return r&&r.self?r.self:null},q}(O=u({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){if(F(e)&&!R(t))return o[e];if(!v(t)||!F(e))return this;o[e]&&!o.$delegates[e]&&(o.$delegates[e]=o[e]);return o[e]=t,this},this.state=function(e,t){D(e)?t=e:t.name=e;return u(t),this},(this.$get=e).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function i(){function e(e,n){return{load:function(e,t){var r;return(t=z({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},t)).view&&(r=n.fromConfig(t.view,t.params,t.locals)),r}}}(this.$get=e).$inject=["$rootScope","$templateFactory"]}function o(m,t,d,g,y){var e=t.has?function(e){return t.has(e)?t.get(e):null}:function(e){try{return t.get(e)}catch(e){return null}},r=e("$animator"),a=e("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,v){return function(i,o,n){var u,s,l,c,f=n.onload||"",p=n.autoscroll,h=function(e,t){if(a)return{enter:function(e,t,r){2<V.version.minor?a.enter(e,null,t).then(r):a.enter(e,null,t,r)},leave:function(e,t){2<V.version.minor?a.leave(e).then(t):a.leave(e,t)}};if(r){var n=r&&r(t,e);return{enter:function(e,t,r){n.enter(e,null,t),r()},leave:function(e,t){n.leave(e),t()}}}return{enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}}}(n,i),$=o.inheritedData("$uiView");function e(e){var t,a=function(e,t,r,n){var a=n(t.uiView||t.name||"")(e);return 0<=a.indexOf("@")?a:a+"@"+(r?r.state.name:"")}(i,n,$,g),r=a&&m.$current&&m.$current.locals[a];!e&&r===c||(t=i.$new(),c=m.$current.locals[a],t.$emit("$viewContentLoading",a),s=v(t,function(e){var t=y.defer(),r=y.defer(),n={name:a,$animEnter:t.promise,$animLeave:r.promise,$$animLeave:r};h.enter(e.data("$uiView",n),o,function(){t.resolve(),l&&l.$emit("$viewContentAnimationEnded"),(V.isDefined(p)&&!p||i.$eval(p))&&d(e)}),function(){if(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s){var e=s.data("$uiView");h.leave(s,function(){e.$$animLeave.resolve(),u=null}),u=s,s=null}}()}),(l=t).$emit("$viewContentLoaded",a),l.$eval(f))}i.$on("$stateChangeSuccess",function(){e(!1)}),e(!0)}}}}function u(c,f,p,e){return{restrict:"ECA",priority:-400,compile:function(e){var l=e.html();return function(e,t,r){var n=p.$current,a=t.data("$uiView"),i=n&&n.locals[a.name];if(i){z(a,{state:i.$$state}),t.html(i.$template?i.$template:l);var o=V.extend({},i);e[i.$$resolveAs]=o;var u=c(t.contents());if(i.$$controller){i.$scope=e,i.$element=t;var s=f(i.$$controller,i);i.$$controllerAs&&(e[i.$$controllerAs]=s,e[i.$$controllerAs][i.$$resolveAs]=o),v(s.$onInit)&&s.$onInit(),t.data("$ngControllerController",s),t.children().data("$ngControllerController",s)}u(e)}}}}}function g(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),!(r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function y(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function h(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function w(i,o,u,s,l){return function(e){var t=e.which||e.button,r=l();if(!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||i.attr("target"))){var n=u(function(){o.go(r.state,r.params,r.options)});e.preventDefault();var a=s.isAnchor&&!r.href?1:0;e.preventDefault=function(){a--<=0&&u.cancel(n)}}}}function c(f,p){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,r,n){var a,i=g(r.uiSref,f.current.name),o={state:i.state,href:null,params:null},u=h(t),s=n[1]||n[0],l=null;o.options=z(function(e,t){return{relative:y(e)||t.$current,inherit:!0}}(t,f),r.uiSrefOpts?e.$eval(r.uiSrefOpts):{});function c(e){e&&(o.params=V.copy(e)),o.href=f.href(i.state,o.params,o.options),l&&l(),s&&(l=s.$$addStateInfo(i.state,o.params)),null!==o.href&&r.$set(u.attr,o.href)}i.paramExpr&&(e.$watch(i.paramExpr,function(e){e!==o.params&&c(e)},!0),o.params=V.copy(e.$eval(i.paramExpr))),c(),u.clickable&&(a=w(t,f,p,u,function(){return o}),t.bind("click",a),e.$on("$destroy",function(){t.unbind("click",a)}))}}}function f(f,p){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,r,n){var a,i=h(t),o=n[1]||n[0],u="["+[r.uiState,r.uiStateParams||null,r.uiStateOpts||null].map(function(e){return e||"null"}).join(", ")+"]",s={state:null,params:null,options:null,href:null},l=null;function c(e){s.state=e[0],s.params=e[1],s.options=e[2],s.href=f.href(s.state,s.params,s.options),l&&l(),o&&(l=o.$$addStateInfo(s.state,s.params)),s.href&&r.$set(i.attr,s.href)}e.$watch(u,c,!0),c(e.$eval(u)),i.clickable&&(a=w(t,f,p,i,function(){return s}),t.bind("click",a),e.$on("$destroy",function(){t.unbind("click",a)}))}}}function p(h,e,t){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(o,u,e,r){var i,n,s=[],l={};i=t(e.uiSrefActiveEq||"",!1)(o);try{n=o.$eval(e.uiSrefActive)}catch(e){}function a(e,t,r){var n=h.get(e,y(u)),a=function(e,t){if(!F(e))throw new Error("state should be a string");if(D(t))return e+$(t);if(t=o.$eval(t),D(t))return e+$(t);return e}(e,t),i={state:n||{name:e},params:t,hash:a};return s.push(i),l[a]=r,function(){var e=s.indexOf(i);-1!==e&&s.splice(e,1)}}function c(){for(var e=0;e<s.length;e++)n=s[e].state,a=s[e].params,h.includes(n.name,a)?f(u,l[s[e].hash]):p(u,l[s[e].hash]),t=s[e].state,r=s[e].params,h.is(t.name,r)?f(u,i):p(u,i);var t,r,n,a}function f(e,t){r(function(){e.addClass(t)})}function p(e,t){e.removeClass(t)}n=n||t(e.uiSrefActive||"",!1)(o),D(n)&&T(n,function(e,t){if(F(e)){var r=g(e,h.current.name);a(r.state,o.$eval(r.paramExpr),t)}}),this.$$addStateInfo=function(e,t){if(!(D(n)&&0<s.length)){var r=a(e,t,n);return c(),r}},o.$on("$stateChangeSuccess",c),c()}]}}function E(r){function e(e,t){return r.is(e,t)}return e.$stateful=!0,e}function x(n){function e(e,t,r){return n.includes(e,t,r)}return e.$stateful=!0,e}V.module("ui.router.util",["ng"]),V.module("ui.router.router",["ui.router.util"]),V.module("ui.router.state",["ui.router.router","ui.router.util"]),V.module("ui.router",["ui.router.state"]),V.module("ui.router.compat",["ui.router"]),t.$inject=["$q","$injector"],V.module("ui.router.util").service("$resolve",t),r.$inject=["$http","$templateCache","$injector"],V.module("ui.router.util").service("$templateFactory",r),l.prototype.concat=function(e,t){var r={caseInsensitive:N.caseInsensitive(),strict:N.strictMode(),squash:N.defaultSquashPolicy()};return new l(this.sourcePath+e+this.sourceSearch,z(r,t),this)},l.prototype.toString=function(){return this.source},l.prototype.exec=function(e,t){var r=this.regexp.exec(e);if(!r)return null;t=t||{};var n,a,i,o,u,s=this.parameters(),l=s.length,c=this.segments.length-1,f={};if(c!=r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(n=0;n<c;n++){for(i=s[n],o=this.params[i],u=r[n+1],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);u&&!0===o.array&&(u=X(X(p(u).split(/-(?!\\)/),p),function(e){return e.replace(/\\-/g,"-")}).reverse()),R(u)&&(u=o.type.decode(u)),f[i]=o.value(u)}function p(e){return e.split("").reverse().join("")}for(;n<l;n++){for(f[i=s[n]]=this.params[i].value(t[i]),o=this.params[i],u=t[i],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);R(u)&&(u=o.type.decode(u)),f[i]=o.value(u)}return f},l.prototype.parameters=function(e){return R(e)?this.params[e]||null:this.$$paramNames},l.prototype.validates=function(e){return this.params.$$validates(e)},l.prototype.format=function(e){e=e||{};var t=this.segments,r=this.parameters(),n=this.params;if(!this.validates(e))return null;var a,i=!1,o=t.length-1,u=r.length,s=t[0];function l(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}for(a=0;a<u;a++){var c=a<o,f=r[a],p=n[f],h=p.value(e[f]),$=p.isOptional&&p.type.equals(p.value(),h),v=!!$&&p.squash,m=p.type.encode(h);if(c){var d=t[a+1],g=a+1===o;if(!1===v)null!=m&&(U(m)?s+=X(m,l).join("-"):s+=encodeURIComponent(m)),s+=d;else if(!0===v){var y=s.match(/\/$/)?/\/?(.*)/:/(.*)/;s+=d.match(y)[1]}else F(v)&&(s+=v+d);g&&!0===p.squash&&"/"===s.slice(-1)&&(s=s.slice(0,-1))}else{if(null==m||$&&!1!==v)continue;if(U(m)||(m=[m]),0===m.length)continue;s+=(i?"&":"?")+f+"="+(m=X(m,encodeURIComponent).join("&"+f+"=")),i=!0}}return s},d.prototype.is=function(e,t){return!0},d.prototype.encode=function(e,t){return e},d.prototype.decode=function(e,t){return e},d.prototype.equals=function(e,t){return e==t},d.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},d.prototype.pattern=/.*/,d.prototype.toString=function(){return"{Type:"+this.name+"}"},d.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},d.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,a){function t(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return U(e)?e:R(e)?[e]:[]}function o(e){return!e}function r(r,n){return function(e){if(U(e)&&0===e.length)return e;var t=X(e=i(e),r);return!0===n?0===m(t,o).length:function(e){switch(e.length){case 0:return M;case 1:return"auto"===a?e[0]:e;default:return e}}(t)}}var u;this.encode=r(t(e,"encode")),this.decode=r(t(e,"decode")),this.is=r(t(e,"is"),!0),this.equals=(u=t(e,"equals"),function(e,t){var r=i(e),n=i(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!u(r[a],n[a]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=r(t(e,"$normalize")),this.name=e.name,this.$arrayMode=a}(this,e)},V.module("ui.router.util").provider("$urlMatcherFactory",function e(){N=this;var r=!1,n=!0,f=!1;function t(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}var p,h={},a=!0,i=[],o={string:{encode:t,decode:function(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e},is:function(e){return null==e||!R(e)||"string"==typeof e},pattern:/[^/]*/},int:{encode:t,decode:function(e){return parseInt(e,10)},is:function(e){return R(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):M},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):M},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:V.toJson,decode:V.fromJson,is:V.isObject,equals:V.equals,pattern:/[^/]*/},any:{encode:V.identity,decode:V.identity,equals:V.equals,pattern:/.*/}};function $(e){return v(e)||U(e)&&v(e[e.length-1])}function u(){for(;i.length;){var e=i.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");V.extend(h[e.name],p.invoke(e.def))}}function s(e){z(this,e||{})}e.$$getDefaultValue=function(e){if(!$(e.value))return e.value;if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(e.value)},this.caseInsensitive=function(e){return R(e)&&(r=e),r},this.strictMode=function(e){return R(e)&&(n=e),n},this.defaultSquashPolicy=function(e){if(!R(e))return f;if(!0!==e&&!1!==e&&!F(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return f=e},this.compile=function(e,t){return new l(e,z({strict:n,caseInsensitive:r},t))},this.isMatcher=function(r){if(!D(r))return!1;var n=!0;return T(l.prototype,function(e,t){v(e)&&(n=n&&R(r[t])&&v(r[t]))}),n},this.type=function(e,t,r){if(!R(t))return h[e];if(h.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return h[e]=new d(z({name:e},t)),r&&(i.push({name:e,def:r}),a||u()),this},T(o,function(e,t){h[t]=new d(z({name:t},e))}),h=J(h,{}),this.$get=["$injector",function(e){return p=e,a=!1,u(),T(o,function(e,t){h[t]||(h[t]=new d(e))}),this}],this.Param=function(n,e,a,t){var i=this;a=function(e){var t=D(e)?K(e):[];return-1===Y(t,"value")&&-1===Y(t,"type")&&-1===Y(t,"squash")&&-1===Y(t,"array")&&(e={value:e}),e.$$fn=$(e.value)?e.value:function(){return e.value},e}(a),e=function(e,t,r){if(e.type&&t)throw new Error("Param '"+n+"' has two type configurations.");return t||(e.type?V.isString(e.type)?h[e.type]:e.type instanceof d?e.type:new d(e.type):"config"===r?h.any:h.string)}(a,e,t);var r,o,u=(r={array:"search"===t&&"auto"},o=n.match(/\[\]$/)?{array:!0}:{},z(r,o,a).array);"string"!==(e=u?e.$asArray(u,"search"===t):e).name||u||"path"!==t||a.value!==M||(a.value="");var s=a.value!==M,l=function(e,t){var r=e.squash;if(!t||!1===r)return!1;if(!R(r)||null==r)return f;if(!0===r||F(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(a,s),c=function(e,t,r,n){var a,i,o=[{from:"",to:r||t?M:""},{from:null,to:r||t?M:""}];return a=U(e.replace)?e.replace:[],F(n)&&a.push({from:n,to:M}),i=X(a,function(e){return e.from}),m(o,function(e){return-1===Y(i,e.from)}).concat(a)}(a,u,s,l);z(this,{id:n,type:e,location:t,array:u,squash:l,replace:c,isOptional:s,value:function(e){var t,r;return t=e,e=(r=X(m(i.replace,function(t){return function(e){return e.from===t}}(t)),function(e){return e.to})).length?r[0]:t,R(e)?i.type.$normalize(e):function(){if(!p)throw new Error("Injectable functions cannot be called at configuration time");var e=p.invoke(a.$$fn);if(null!==e&&e!==M&&!i.type.is(e))throw new Error("Default value ("+e+") for parameter '"+i.id+"' is not an instance of Type ("+i.type.name+")");return e}()},dynamic:M,config:a,toString:function(){return"{Param:"+n+" "+e+" squash: '"+l+"' optional: "+s+"}"}})},s.prototype={$$new:function(){return J(this,z(new s,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],r=this,n=K(s.prototype);r;)e.push(r),r=r.$$parent;return e.reverse(),T(e,function(e){T(K(e),function(e){-1===Y(t,e)&&-1===Y(n,e)&&t.push(e)})}),t},$$values:function(t){var r={},n=this;return T(n.$$keys(),function(e){r[e]=n[e].value(t&&t[e])}),r},$$equals:function(n,a){var i=!0,o=this;return T(o.$$keys(),function(e){var t=n&&n[e],r=a&&a[e];o[e].type.equals(t,r)||(i=!1)}),i},$$validates:function(e){var t,r,n,a,i,o=this.$$keys();for(t=0;t<o.length&&(r=this[o[t]],(n=e[o[t]])!==M&&null!==n||!r.isOptional);t++){if(a=r.type.$normalize(n),!r.type.is(a))return!1;if(i=r.type.encode(a),V.isString(i)&&!r.type.pattern.exec(i))return!1}return!0},$$parent:M},this.ParamSet=s}),V.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),n.$inject=["$locationProvider","$urlMatcherFactoryProvider"],V.module("ui.router.router").provider("$urlRouter",n),a.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],V.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",a).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),i.$inject=[],V.module("ui.router.state").provider("$view",i),V.module("ui.router.state").provider("$uiViewScroll",function(){var r=!1;this.useAnchorScroll=function(){r=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return r?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]}),o.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],u.$inject=["$compile","$controller","$state","$interpolate"],V.module("ui.router.state").directive("uiView",o),V.module("ui.router.state").directive("uiView",u),c.$inject=["$state","$timeout"],f.$inject=["$state","$timeout"],p.$inject=["$state","$stateParams","$interpolate"],V.module("ui.router.state").directive("uiSref",c).directive("uiSrefActive",p).directive("uiSrefActiveEq",p).directive("uiState",f),E.$inject=["$state"],x.$inject=["$state"],V.module("ui.router.state").filter("isState",E).filter("includedByState",x)}(window,window.angular);