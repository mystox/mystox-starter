webpackJsonp([9],{SxKl:function(e,t){},wU3a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"OMC",data:function(){var e=this;return{queryUploadUrl:"/omc/importQueryStationFile",SNUploadUrl:"/omc/importSNList",queryForm:{stationName:"",stationId:"",fsuId:"",serialNo:"",stationStatus:null,engineVerStart:"",engineVerEnd:"",programVerStart:"",programVerEnd:"",smonitorVerStart:"",smonitorVerEnd:"",orderId:"",fileName:""},list:[],pagination:{pageSize:15,total:0,page:1,handleCurrentChange:function(t){e.pagination.page=t,e.list=e.allList.slice((e.pagination.page-1)*e.pagination.pageSize,e.pagination.page*e.pagination.pageSize)},pageSizeChange:function(t){e.pagination.pageSize=t,e.list=e.allList.slice((e.pagination.page-1)*e.pagination.pageSize,e.pagination.page*e.pagination.pageSize)}},queryFileList:[],SNFileList:[]}},computed:{queryFormRules:function(){var e=function(e,t,r){t?/^([1-9]\d{0,}|\d)\.([1-9]\d{0,}|\d)\.([1-9]\d{0,}|\d)\.([1-9]\d{0,}|\d)$/.test(t)?r():r(new Error(" ")):r()};return{engineVerStart:{trigger:["blur","change"],validator:e},engineVerEnd:{trigger:["blur","change"],validator:e},programVerStart:{trigger:["blur","change"],validator:e},programVerEnd:{trigger:["blur","change"],validator:e},smonitorVerStart:{trigger:["blur","change"],validator:e},smonitorVerEnd:{trigger:["blur","change"],validator:e}}}},methods:{getList:function(){var e=this;this.$refs.queryForm.validate(function(t){t&&e.$api.omcQueryStationList({stationName:e.queryForm.stationName||void 0,stationId:e.queryForm.stationId||void 0,fsuId:e.queryForm.fsuId||void 0,serialNo:e.queryForm.serialNo||void 0,stationStatus:e.queryForm.stationStatus||void 0,engineVerStart:e.queryForm.engineVerStart||void 0,engineVerEnd:e.queryForm.engineVerEnd||void 0,programVerStart:e.queryForm.programVerStart||void 0,programVerEnd:e.queryForm.programVerEnd||void 0,smonitorVerStart:e.queryForm.smonitorVerStart||void 0,smonitorVerEnd:e.queryForm.smonitorVerEnd||void 0,orderId:e.queryForm.orderId||void 0}).then(function(t){e.allList=t.data,e.pagination.total=t.data.length,e.pagination.handleCurrentChange.call(e,1)})})},reset:function(){this.$refs.queryForm.resetFields(),this.queryForm.fileName="",this.queryForm.orderId=void 0},queryUploadSuccess:function(e){this.$message({type:e.success?"success":"error",message:e.info}),this.autoFileList=[],this.$refs.queryUpload.clearFiles(),this.queryForm.orderId=e.data},queryUploadChanged:function(e){e.response&&!e.response.success?(this.queryForm.fileName="",this.$refs.queryUpload.clearFiles()):this.queryForm.fileName=e.name},SNUploadSuccess:function(e){this.$message({type:e.success?"success":"error",message:e.info})},jump:function(e){window.open("http://"+e.ip+":2000","_blank")},exportTable:function(){var e=this;this.$refs.queryForm.validate(function(t){t&&e.$api.omcExportStationList({stationName:e.queryForm.stationName||void 0,stationId:e.queryForm.stationId||void 0,fsuId:e.queryForm.fsuId||void 0,serialNo:e.queryForm.serialNo||void 0,stationStatus:e.queryForm.stationStatus||void 0,engineVerStart:e.queryForm.engineVerStart||void 0,engineVerEnd:e.queryForm.engineVerEnd||void 0,programVerStart:e.queryForm.programVerStart||void 0,programVerEnd:e.queryForm.programVerEnd||void 0,smonitorVerStart:e.queryForm.smonitorVerStart||void 0,smonitorVerEnd:e.queryForm.smonitorVerEnd||void 0,orderId:e.queryForm.orderId||void 0}).then(function(e){console.log(e.data);var t=new Blob([e.data],{type:"application/vnd.ms-excel"}),r=URL.createObjectURL(t),a=document.createElement("a");a.download="局站列表.xlsx",a.setAttribute("href",r);var i=document.createEvent("MouseEvent");i.initEvent("click",!0,!0),a.dispatchEvent(i)})})}},mounted:function(){this.allList=[],this.getList()}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{attrs:{id:"OMC-Page"}},[r("div",{staticClass:"wrapper-container df dfv"},[r("div",{staticClass:"query-form df"},[r("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryForm,"label-width":"100px",rules:e.queryFormRules}},[r("el-form-item",{attrs:{label:"局站名称",prop:"stationName"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.queryForm.stationName,callback:function(t){e.$set(e.queryForm,"stationName",t)},expression:"queryForm.stationName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"局站ID",prop:"stationId"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.queryForm.stationId,callback:function(t){e.$set(e.queryForm,"stationId",t)},expression:"queryForm.stationId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"FSUID",prop:"fsuId"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.queryForm.fsuId,callback:function(t){e.$set(e.queryForm,"fsuId",t)},expression:"queryForm.fsuId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出厂码",prop:"serialNo"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.queryForm.serialNo,callback:function(t){e.$set(e.queryForm,"serialNo",t)},expression:"queryForm.serialNo"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"局站状态",prop:"stationStatus"}},[r("el-select",{attrs:{size:"mini"},model:{value:e.queryForm.stationStatus,callback:function(t){e.$set(e.queryForm,"stationStatus",t)},expression:"queryForm.stationStatus"}},e._l([{id:null,name:"全部"},{id:"在线",name:"在线"},{id:"离线",name:"离线"}],function(t){return r("el-option",{key:t.name,attrs:{label:t.name,value:t.id}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"引擎"}},[r("el-form-item",{attrs:{prop:"engineVerStart"}},[r("el-input",{staticStyle:{width:"72.5px"},attrs:{size:"mini"},model:{value:e.queryForm.engineVerStart,callback:function(t){e.$set(e.queryForm,"engineVerStart",t)},expression:"queryForm.engineVerStart"}})],1),e._v(" "),r("span",[e._v(" - ")]),e._v(" "),r("el-form-item",{attrs:{prop:"engineVerEnd"}},[r("el-input",{staticStyle:{width:"72.5px"},attrs:{size:"mini"},model:{value:e.queryForm.engineVerEnd,callback:function(t){e.$set(e.queryForm,"engineVerEnd",t)},expression:"queryForm.engineVerEnd"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"适配层"}},[r("el-form-item",{attrs:{prop:"programVerStart"}},[r("el-input",{staticStyle:{width:"72.5px"},attrs:{size:"mini"},model:{value:e.queryForm.programVerStart,callback:function(t){e.$set(e.queryForm,"programVerStart",t)},expression:"queryForm.programVerStart"}})],1),e._v(" "),r("span",[e._v(" - ")]),e._v(" "),r("el-form-item",{attrs:{prop:"programVerEnd"}},[r("el-input",{staticStyle:{width:"72.5px"},attrs:{size:"mini"},model:{value:e.queryForm.programVerEnd,callback:function(t){e.$set(e.queryForm,"programVerEnd",t)},expression:"queryForm.programVerEnd"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"SMonitor"}},[r("el-form-item",{attrs:{prop:"smonitorVerStart"}},[r("el-input",{staticStyle:{width:"72.5px"},attrs:{size:"mini"},model:{value:e.queryForm.smonitorVerStart,callback:function(t){e.$set(e.queryForm,"smonitorVerStart",t)},expression:"queryForm.smonitorVerStart"}})],1),e._v(" "),r("span",[e._v(" - ")]),e._v(" "),r("el-form-item",{attrs:{prop:"smonitorVerEnd"}},[r("el-input",{staticStyle:{width:"72.5px"},attrs:{size:"mini"},model:{value:e.queryForm.smonitorVerEnd,callback:function(t){e.$set(e.queryForm,"smonitorVerEnd",t)},expression:"queryForm.smonitorVerEnd"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:" ","label-width":"50px"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getList}},[e._v("查询")]),e._v(" "),r("el-upload",{ref:"queryUpload",staticClass:"upload-file no-file-list",staticStyle:{display:"inline-block"},attrs:{"on-success":e.queryUploadSuccess,"on-change":e.queryUploadChanged,action:e.queryUploadUrl,"file-list":e.queryFileList}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v(e._s(e.queryForm.fileName||"导入"))])],1),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1),e._v(" "),r("div",{staticClass:"list df dfv f1"},[r("div",{staticClass:"list-header"},[r("h3",[e._v("局站管理")]),e._v(" "),r("div",{staticClass:"btn-group"},[r("el-upload",{ref:"SNUpload",staticClass:"upload-file no-file-list",staticStyle:{display:"inline-block"},attrs:{"on-success":e.SNUploadSuccess,action:e.SNUploadUrl,"file-list":e.SNFileList}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("导入")])],1),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.exportTable}},[e._v("导出")])],1)]),e._v(" "),r("div",{staticClass:"table-box df dfv f1"},[r("el-table",{attrs:{data:e.list,height:"100%"}},[r("el-table-column",{attrs:{prop:"stationName",label:"局站名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"stationNo",label:"局站ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"fsuId",label:"FSU ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"serialNo",label:"出厂码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"ip",label:"IP",formatter:e.$tableFilter("nullFilter")}}),e._v(" "),r("el-table-column",{attrs:{prop:"state",label:"局站状态",formatter:e.$tableFilter("nullFilter")}}),e._v(" "),r("el-table-column",{attrs:{prop:"offlineTime",label:"离线时间",formatter:e.$tableFilter("dateFormatFilter")}}),e._v(" "),r("el-table-column",{attrs:{width:"100",label:"查看详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("svg",{staticStyle:{cursor:"pointer"},attrs:{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},on:{click:function(r){return e.jump(t.row)}}},[r("g",[r("g",{attrs:{id:"Page-1",fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{fill:"#00B1FF",id:"svg_1"}},[r("g",{attrs:{id:"svg_2"}},[r("g",{attrs:{id:"svg_3"}},[r("path",{attrs:{d:"m11.63636,0l-10.18181,0c-0.80291,0 -1.45455,0.65164 -1.45455,1.45455l0,13.0909c0,0.80291 0.65164,1.45455 1.45455,1.45455l10.18181,0c0.80291,0 1.45455,-0.65164 1.45455,-1.45455c0,-0.32072 -0.26036,-0.58181 -0.58182,-0.58181c-0.32145,0 -0.58182,0.26109 -0.58182,0.58181c0,0.16073 -0.13018,0.29091 -0.29091,0.29091l-10.18181,0c-0.16073,0 -0.29091,-0.13018 -0.29091,-0.29091l0,-13.0909c0,-0.16073 0.13018,-0.29091 0.29091,-0.29091l10.18181,0c0.16073,0 0.29091,0.13018 0.29091,0.29091l0,3.78181c0,0.32146 0.26037,0.58182 0.58182,0.58182c0.32146,0 0.58182,-0.26036 0.58182,-0.58182l0,-3.78181c0,-0.80291 -0.65164,-1.45455 -1.45455,-1.45455",id:"Combined-Shape"}}),e._v(" "),r("path",{attrs:{d:"m2.78598,2.18182l4.18018,0c0.3327,0 0.60416,0.26765 0.60416,0.59568c0,0.32802 -0.27146,0.59567 -0.60416,0.59567l-4.18018,0c-0.3327,0 -0.60416,-0.26765 -0.60416,-0.59567c0,-0.32803 0.27146,-0.59568 0.60416,-0.59568z",id:"Combined-Shape"}}),e._v(" "),r("path",{attrs:{d:"m2.18182,4.91844c0,-0.32802 0.27146,-0.59567 0.60416,-0.59567l7.32347,0c0.3327,0 0.60417,0.26765 0.60417,0.59567c0,0.32803 -0.27147,0.59568 -0.60417,0.59568l-7.32347,0c-0.3327,0 -0.60416,-0.26765 -0.60416,-0.59568z",id:"Combined-Shape"}})])])])]),e._v(" "),r("ellipse",{attrs:{stroke:"#00B1FF",fill:"none","stroke-width":"1.2",cx:"10.46856",cy:"9.24605",id:"svg_4",rx:"2.47867",ry:"2.47867"}}),e._v(" "),r("line",{attrs:{fill:"none","stroke-width":"1.2","stroke-dasharray":"null","stroke-linejoin":"null","stroke-linecap":"null",x1:"11.6881",y1:"11.17831",x2:"13.81042",y2:"13.64907",id:"svg_6",stroke:"#00B1FF"}})])])]}}])})],1),e._v(" "),r("el-col",{staticClass:"toolbar",attrs:{span:24}},[r("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"total, prev, pager, next,sizes, jumper","page-sizes":[10,15,50,100],"page-size":e.pagination.pageSize,total:e.pagination.total},on:{"current-change":e.pagination.handleCurrentChange,"size-change":e.pagination.pageSizeChange}})],1)],1)])])])},staticRenderFns:[]};var o=r("VU/8")(a,i,!1,function(e){r("SxKl")},"data-v-5d1dd14c",null);t.default=o.exports}});