{"version":3,"sources":["webpack:///src/components/BatchUpdate.vue","webpack:///./src/components/BatchUpdate.vue?228f","webpack:///./src/components/BatchUpdate.vue"],"names":["BatchUpdate","name","data","_this","this","scope","autoUploadUrl","exportUrl","confirmVisible","upgradeCount","list","rightView","rightIsCollapsed","autoFileList","programFileList","busListAll","busListCustomized","productList","upgradeList","multiUpgradeTimeList","Array","fill","map","v","i","upgradeForm","businessSceneId","fileOrderId","repeatNum","sengine","smonitor","program","upSize","engineVerStart","engineVerEnd","programVerStart","programVerEnd","smonitorVerStart","smonitorVerEnd","fileName","updateProgramForm","businessScene","product","fileVersion","updatedProgramList","updateProgramLoading","isAddingSub","newBus","isQueryRunningPlan","upgradeDetailPagi","currentId","pageSize","total","page","handleCurrentChange","val","queryUpgradeDetail","pageSizeChange","autoRefreshIntervalTime","localStorage","getItem","nodes","treeSetting","check","enable","chkStyle","chkboxType","Y","N","view","showIcon","showLine","showTitle","dblClickExpand","fontCss","treeId","node","fsuState","color","key","children","title","callback","onClick","event","treeNode","nocheck","$refs","tree","ztreeObj","checkNode","checked","beforeCheck","curDistrict","invalid","level","traversal","parent","getParentNode","filter","check_Child_State","length","computed","upgradeFormRules","versionValidator","rule","value","test","Error","versionValidator3","trigger","validator","_","meanwhileUpSize","upSize2","updateProgramRules","programautoUploadUrl","join","methods","getTierTree","_this2","districtMap","nation","province","city","town","promise_default","a","rev","$api","getTree","then","res","addressScope","open","chkDisabled","forEach","console","log","autoUploadSuccess","$message","type","success","message","info","upgradeUpload","clearFiles","programUploadSuccess","programGetBusList","programUpload","getProgramList","manuallyUpdate","_this3","count","resList","programUpdate","push","failures","Result","Reason","extends_default","JSON","parse","upgradeUploadChanged","file","response","programUploadBeforeUpload","indexOf","getBusListAll","_this4","isCustomize","getBusListCustomized","_this5","getProductList","_this6","programQueryProduct","getUpgradeList","_this7","autoGetList","state","onEdit","editValue","addBus","_this8","programSave","description","confirmToUpgrade","_this9","validate","getCheckedNodes","autoUpCount","$tableFilter","Date","getTime","addressIdList","id","upgrade","_this10","autoUpdate","resetFields","stopUpgrade","row","_this11","autoStopPlan","_this12","autoGetDetail","planId","currentPage","_this13","programGetBusProList","startEditUpgradeList","plan","index","$nextTick","document","querySelectorAll","select","editUpgradeList","_this14","trim","autoUpName","oldName","addAutoRefresh","_this15","clearInterval","autoRefreshInterval","setInterval","find","setItem","mounted","_this16","components_BatchUpdate","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","width","height","ref","setting","_v","inline","model","label-width","rules","label","prop","size","$$v","$set","expression","_l","item","_s","$hasAuth","on","click","_e","display","on-success","on-change","action","file-list","href","disabled","formatter","span","float","layout","page-sizes","page-size","current-change","size-change","style","marginLeft","$event","directives","rawName","input","inactive-text","active-text","active-color","inactive-color","label-position","overflow","vertical-align","multiple","collapse-tags","margin-left","readonly","before-upload","loading","border","_m","businessName","productName","row-class-name","arg","row-style","cursor","row-click","arguments","scopedSlots","_u","fn","stopPropagation","domProps","blur","target","composing","class","left","visible","Math","min","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.js","sourcesContent":["<template>\r\n  <section id=\"BatchUpdate\">\r\n    <div class=\"wrapper-container df dfh\">\r\n      <div class=\"tree\" style=\"width:232px; height:100%;\">\r\n        <tree :nodes=\"nodes\" :setting=\"treeSetting\" ref=\"tree\" />\r\n      </div>\r\n      <div class=\"left df dfv\">\r\n        <div class=\"query-form df\">\r\n          <el-form :inline=\"true\" :model=\"upgradeForm\" :label-width=\"'100px'\" :rules=\"upgradeFormRules\" ref=\"upgradeForm\">\r\n\r\n            <el-form-item :label=\"'业务'\" :label-width=\"'40px'\" prop=\"businessSceneId\">\r\n              <el-select size=\"mini\" v-model = 'upgradeForm.businessSceneId'>\r\n                <el-option v-for=\"(item, index) in busListAll\" :key=\"index\" :label=\"item.description\" :value=\"item.id\">{{item.description}}</el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item :label=\"'升级个数'\" prop=\"upSize\">\r\n              <el-input size=\"mini\" v-model=\"upgradeForm.upSize\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item :label=\"'升级轮数'\" prop=\"repeatNum\">\r\n              <el-input size=\"mini\" v-model=\"upgradeForm.repeatNum\"></el-input>\r\n            </el-form-item>\r\n\r\n            <!-- <el-form-item :label=\"'计划名称'\" prop=\"name\">\r\n              <el-input size=\"mini\" v-model=\"upgradeForm.name\"></el-input>\r\n            </el-form-item> -->\r\n            \r\n            <el-form-item :label=\"'同时升级个数'\" prop=\"meanwhileUpSize\">\r\n              <el-select size=\"mini\" v-model=\"upgradeForm.meanwhileUpSize\">\r\n                <el-option v-for=\"item in multiUpgradeTimeList\" :key=\"item\" :label=\"item\" :value=\"item\">{{item}}</el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n\r\n            <br>\r\n\r\n            <el-form-item :label=\"'引擎'\" :label-width=\"'40px'\">\r\n              <el-form-item prop=\"engineVerStart\">\r\n                <el-input size=\"mini\" v-model=\"upgradeForm.engineVerStart\" style=\"width: 72.5px\"></el-input>\r\n              </el-form-item>\r\n              <span> - </span>\r\n              <el-form-item prop=\"engineVerEnd\">\r\n                <el-input size=\"mini\" v-model=\"upgradeForm.engineVerEnd\" style=\"width: 72.5px\"></el-input>\r\n              </el-form-item>\r\n            </el-form-item>\r\n\r\n            <el-form-item :label=\"'适配层'\">\r\n              <el-form-item prop=\"programVerStart\">\r\n                <el-input size=\"mini\" v-model=\"upgradeForm.programVerStart\" style=\"width: 72.5px\"></el-input>\r\n              </el-form-item>\r\n              <span> - </span>\r\n              <el-form-item prop=\"programVerEnd\">\r\n                <el-input size=\"mini\" v-model=\"upgradeForm.programVerEnd\" style=\"width: 72.5px\"></el-input>\r\n              </el-form-item>\r\n            </el-form-item>\r\n\r\n            <el-form-item :label=\"'SMonitor'\">\r\n              <el-form-item prop=\"smonitorVerStart\">\r\n                <el-input size=\"mini\" v-model=\"upgradeForm.smonitorVerStart\" style=\"width: 72.5px\"></el-input>\r\n              </el-form-item>\r\n              <span> - </span>\r\n              <el-form-item prop=\"smonitorVerEnd\">\r\n                <el-input size=\"mini\" v-model=\"upgradeForm.smonitorVerEnd\" style=\"width: 72.5px\"></el-input>\r\n              </el-form-item>\r\n            </el-form-item>\r\n\r\n            <br>\r\n\r\n            <el-form-item>\r\n              <el-checkbox v-model=\"upgradeForm.sengine\">引擎</el-checkbox>\r\n            </el-form-item>\r\n            \r\n            <el-form-item>\r\n              <el-checkbox v-model=\"upgradeForm.program\">适配层</el-checkbox>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n              <el-checkbox v-model=\"upgradeForm.smonitor\">SMonitor</el-checkbox>\r\n            </el-form-item>\r\n\r\n            <el-button v-if=\"$hasAuth(1)\" type=\"primary\" size=\"mini\" @click=\"confirmToUpgrade\">确认</el-button>\r\n            \r\n            <el-upload\r\n              class=\"upload-file no-file-list\"\r\n              style=\"display:inline-block;\"\r\n              ref=\"upgradeUpload\"\r\n              :on-success=\"autoUploadSuccess\"\r\n              :on-change=\"upgradeUploadChanged\"\r\n              :action=\"autoUploadUrl\"\r\n              :file-list=\"autoFileList\">\r\n              <el-button type=\"primary\" size=\"mini\">{{upgradeForm.fileName || '导入'}}</el-button>\r\n            </el-upload>\r\n            \r\n            <!-- <el-button type=\"primary\" size=\"mini\" @click=\"upgrade\">升级</el-button> -->\r\n          </el-form>\r\n        </div>\r\n        <div class=\"list df dfv\">\r\n          <div class=\"list-header\">\r\n            <h3></h3>\r\n            <div class=\"btn-group\">\r\n              <a v-if=\"exportUrl\" :href=\"exportUrl\"><el-button type='primary'  size=\"mini\">导出</el-button></a>\r\n              <el-button v-else disabled=\"\" type='primary'  size=\"mini\">导出</el-button>\r\n            </div>\r\n          </div>\r\n          <div class=\"table-box df dfv\">\r\n            <el-table :data=\"list\" height=\"100%\">\r\n              <el-table-column prop=\"stationName\" :label=\"'局站名称'\"></el-table-column>\r\n              <!-- <el-table-column prop=\"stationNo\" :label=\"'局站ID'\"></el-table-column> -->\r\n              <el-table-column prop=\"fsuId\" :label=\"'FSU ID'\"></el-table-column>\r\n              <el-table-column prop=\"serialNo\" :label=\"'出厂码'\"></el-table-column>\r\n              <el-table-column prop=\"sengineVal\" :label=\"'引擎'\" :formatter=\"$tableFilter('nullFilter')\"></el-table-column>\r\n              <el-table-column prop=\"programVal\" :label=\"'适配层'\" :formatter=\"$tableFilter('nullFilter')\"></el-table-column>\r\n              <el-table-column prop=\"smonitorVal\" :label=\"'SMonitor'\" :formatter=\"$tableFilter('nullFilter')\"></el-table-column>\r\n              <el-table-column prop=\"progress\" :label=\"'进度'\"></el-table-column>\r\n\r\n            </el-table>\r\n\r\n            <!-- Pagination -->\r\n            <el-col :span=\"24\" class=\"toolbar\">\r\n              <el-pagination\r\n                layout=\"total, prev, pager, next,sizes, jumper\"\r\n                @current-change=\"upgradeDetailPagi.handleCurrentChange\"\r\n                @size-change=\"upgradeDetailPagi.pageSizeChange\"\r\n                :page-sizes=\"[10, 15, 50, 100]\"\r\n                :page-size=\"upgradeDetailPagi.pageSize\"\r\n                :total=\"upgradeDetailPagi.total\"\r\n                style=\"float:right;\">\r\n              </el-pagination>\r\n            </el-col>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right dfv\" :style=\"{\r\n          width: rightIsCollapsed ? 0 : '400px',\r\n          marginLeft: rightIsCollapsed ? 0 : '16px'\r\n        }\">\r\n        <div class=\"rigth-width-fixed df dfv f1\">\r\n          <div class=\"list-header\">\r\n            <h3>\r\n              <a :disabled=\"rightView === 1\" :style=\"rightView === 1 && 'color: white;'\" @click=\"rightView=1\">升级计划</a>\r\n              &nbsp;&nbsp;|&nbsp;&nbsp;\r\n              <a :disabled=\"rightView === 0\" :style=\"rightView === 0 && 'color: white;'\" @click=\"rightView=0\">上传适配层</a>\r\n            </h3>\r\n            <el-select v-show=\"rightView === 1\" v-model=\"autoRefreshIntervalTime\" size=\"mini\" style=\"width:120px;\" @input=\"addAutoRefresh()\">\r\n              <el-option v-for=\"i in [10, 30, 60, 5*60, 10*60, 30*60]\" :key=\"i\" :label=\"'轮询: ' + (i < 60 ? i + '秒' : i / 60 + '分钟')\" :value=\"i\">{{(i < 60) ? (i + '秒') : (i / 60 + '分钟')}}</el-option>\r\n            </el-select>\r\n            <div class=\"btn-group\">\r\n              <el-switch\r\n                class='text-collapsed'\r\n                size=\"mini\"\r\n                v-show=\"rightView === 1\"\r\n                v-model=\"isQueryRunningPlan\"\r\n                :width=\"58\"\r\n                inactive-text=\"全部\"\r\n                active-text=\"执行中\"\r\n                @input=\"getUpgradeList\"\r\n                active-color=\"#00B1FF\"\r\n                inactive-color=\"#888888\">\r\n              </el-switch>\r\n            </div>\r\n          </div>\r\n          <div class=\"update-plan\" v-show=\"rightView === 0\">\r\n            <div class=\"query-form\">\r\n              <el-form label-position=\"left\" :model=\"updateProgramForm\" :rules=\"updateProgramRules\" ref=\"updateProgram\">\r\n                <el-form-item :label=\"'业务'\" label-width=\"50px\" prop=\"businessScene\">\r\n                  <div class=\"ofh\" style=\"display: inline-block; height: 40px; width: 160px; overflow:hidden; vertical-align: middle;\">\r\n                    <el-select size=\"mini\" v-show=\"!isAddingSub\"  v-model=\"updateProgramForm.businessScene\">\r\n                      <el-option v-for=\"(item, index) in busListCustomized\" :key=\"index\" :label=\"item.description\" :value=\"item.id\">{{item.description}}</el-option>\r\n                    </el-select>\r\n                    <el-input v-model=\"newBus\" size=\"mini\" v-show=\"isAddingSub\"></el-input>\r\n                  </div>\r\n                  <a @click=\"isAddingSub = true\" v-if=\"!isAddingSub\" v-show=\"$hasAuth(4)\">添加</a>\r\n                  <a @click=\"newBus && ((isAddingSub = false),addBus(),newBus = '')\" v-if=\"isAddingSub\" class=\"el-icon-success\"></a>\r\n                  <a @click=\"isAddingSub = false; newBus = ''\" v-if=\"isAddingSub\" class=\"el-icon-error\"></a>\r\n                </el-form-item>\r\n\r\n                <el-form-item :label=\"'机型'\" label-width=\"50px\" prop=\"product\">\r\n                  <el-select size=\"mini\" v-model=\"updateProgramForm.product\" multiple collapse-tags>\r\n                    <el-option v-for=\"(item, index) in productList\" :key=\"index\" :label=\"item.description\" :value=\"item.id\">{{item.description}}</el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n                \r\n                <el-form-item :label=\"'适配层文件'\">\r\n                  <br>\r\n                  <el-input style=\"margin-left:50px;\" size=\"mini\" v-model=\"updateProgramForm.fileName\" readonly></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                  \r\n                  <el-upload prop=\"fileVersion\"\r\n                    v-show=\"$hasAuth(3)\"\r\n                    class=\"upload-file no-file-list\"\r\n                    ref=\"programUpload\"\r\n                    :disabled=\"!(updateProgramForm.product.length > 0 && updateProgramForm.businessScene != null) || updateProgramLoading\" \r\n                    style=\"display:inline-block;\"\r\n                    :on-success=\"programUploadSuccess\"\r\n                    :before-upload=\"programUploadBeforeUpload\"\r\n                    :action=\"programautoUploadUrl\"\r\n                    :file-list=\"programFileList\">\r\n                    <el-button size=\"mini\" \r\n                      :disabled=\"!(updateProgramForm.product.length > 0 && updateProgramForm.businessScene != null) || updateProgramLoading\" \r\n                      type=\"primary\" style=\"margin-left:50px\"\r\n                      :loading=\"updateProgramLoading\">导入</el-button>\r\n                  </el-upload>\r\n                  <el-button size=\"mini\" type=\"primary\" \r\n                    :disabled=\"!(updateProgramForm.product.length > 0 && updateProgramForm.businessScene != null) \" \r\n                    @click=\"manuallyUpdate\">更新</el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>       \r\n            <div class=\"table-box\">\r\n              <table class=\"primal\" border=\"1\">\r\n                <tr>\r\n                  <th>业务</th>\r\n                  <th>机型</th>\r\n                </tr>\r\n                <tr v-for=\"(item, index) in updatedProgramList\" :key=\"index\">\r\n                  <td>\r\n                    {{item.businessName}}\r\n                  </td>\r\n                  <td>\r\n                    {{item.productName}}\r\n                  </td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div class=\"upload-view df dfv f1\" v-show=\"rightView === 1\">\r\n            <div class=\"table-box df dfv f1\">\r\n              <el-table :data=\"upgradeList\" height=\"100%\" :row-class-name=\"arg => arg.row.id === upgradeDetailPagi.currentId ? 'hover-row' : ''\" @row-click=\"upgradeDetailPagi.page = 1; queryUpgradeDetail(arguments[0])\" :row-style=\"{cursor:'pointer'}\">\r\n                <el-table-column :label=\"'名称'\">\r\n                  <template slot-scope=\"scope\">\r\n                    <span v-show=\"!scope.row.onEdit\" @click.stop=\"startEditUpgradeList(scope.row)\">{{scope.row.name}}</span>\r\n                    <input v-show=\"scope.row.onEdit\" @click.stop=\"_=>_\" type=\"text\" @blur=\"editUpgradeList(scope.row)\" v-model=\"scope.row.editValue\" class=\"edit-name\"/>\r\n                    <!-- 1: 已开始 0:已停止 -->\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"userName\" :label=\"'发起人'\"></el-table-column>\r\n                <el-table-column prop=\"ctime\" :label=\"'时间'\" width=\"110\" :formatter=\"$tableFilter('dateFormatFilter')\"></el-table-column>\r\n                <el-table-column prop=\"\" :label=\"'操作'\" width=\"50\">\r\n                  <template slot-scope=\"scope\">\r\n                    <i v-if=\"$hasAuth(2)\" class=\"stop-update\" :class=\"!scope.row.state && 'disabled'\" @click.stop=\"scope.row.state && stopUpgrade(scope.row)\" title=\"停止\"></i>\r\n                    <!-- 1: 已开始 0:已停止 -->\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"panle-toggle panle-toggle-h\" @click=\"rightIsCollapsed = !rightIsCollapsed\" :style=\"{left: rightIsCollapsed ? '-20px' : '-10px'}\">\r\n          <i class=\"ic\" \r\n            :class=\"rightIsCollapsed ? 'ic-angle-left' : 'ic-angle-right'\" ></i>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <el-dialog\r\n      title=\"确认升级\"\r\n      class=\"m400\"\r\n      :visible=\"confirmVisible\">\r\n      您此次升级的总数是: {{Math.min(upgradeCount, upgradeForm.upSize)}}\r\n      <br/>\r\n      升级的业务是: {{(busListAll.find(v => v.id === upgradeForm.businessSceneId)||{description: '-'}).description}}\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"default\" @click=\"confirmVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" v-if=\"upgradeCount\" @click=\"confirmVisible = false; upgrade();\">升 级</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BatchUpdate',\r\n  data () {\r\n    let scope = this;\r\n    return {\r\n      autoUploadUrl: process.env.API_HOST + 'importFile/upload',\r\n      exportUrl: '',\r\n      confirmVisible: false,\r\n      upgradeCount: 0,\r\n      list: [],\r\n      rightView: 1,\r\n      rightIsCollapsed: false,\r\n      autoFileList: [],\r\n      programFileList: [],\r\n      busListAll: [], // 所有业务\r\n      busListCustomized: [], // 只包含自增业务\r\n      productList: [], // 机型列表\r\n      upgradeList: [],\r\n      multiUpgradeTimeList: new Array(20).fill(0).map((v, i) => i + 1),\r\n      upgradeForm: {\r\n        name: '', //  计划名称（String）\r\n        businessSceneId: null, // 业务ID （int ）\r\n        fileOrderId: '', //导入文件序号（String ）\r\n        repeatNum: '', // 升级轮数 （int ）\r\n        sengine: '', // 是否升级sengine 0=不升级 1=升级 （int ）\r\n        smonitor: '', // 是否升级Smonitor 0=不升级 1=升级（int ）\r\n        program: '', // 是否升级适配层 0=不升级 1=升级（int ）\r\n        upSize: '', // 升级个数 （int ）\r\n        engineVerStart: '', // 查询 SEngine版本开始时间\r\n        engineVerEnd: '', // 查询 SEngine版本结束时间\r\n        programVerStart: '', // 查询 适配层版本开始时间\r\n        programVerEnd: '', // 查询 适配层版本结束时间\r\n        smonitorVerStart: '', // 查询 Smonitor  版本开始时间\r\n        smonitorVerEnd: '', // 查询 Smonitor  版本结束时间        \r\n        fileName: ''\r\n      },\r\n      updateProgramForm: {\r\n        businessScene: null,\r\n        product: [],\r\n        fileVersion: null,\r\n        fileName: ''\r\n      },\r\n      updatedProgramList: [],\r\n      updateProgramLoading: false,\r\n      isAddingSub: false,\r\n      newBus: '',\r\n      isQueryRunningPlan: false,\r\n      upgradeDetailPagi: {\r\n        currentId: null,\r\n        pageSize: 15,\r\n        total: 0,\r\n        page: 1,\r\n        handleCurrentChange: (val) => {\r\n          this.upgradeDetailPagi.page = val;\r\n          this.queryUpgradeDetail();\r\n        },\r\n        pageSizeChange: (val) => {\r\n          this.upgradeDetailPagi.pageSize = val;\r\n          this.queryUpgradeDetail();\r\n        }\r\n      },\r\n      autoRefreshIntervalTime: +localStorage.getItem('autoRefreshIntervalTime') || 5 * 60,\r\n      nodes: [],      \r\n      treeSetting: {\r\n        check: {\r\n          enable: true,\r\n          chkStyle: \"checkbox\",\r\n          chkboxType: {\r\n            Y: \"ps\",\r\n            N: \"ps\"\r\n          }\r\n        },\r\n        view: {\r\n          showIcon: false,\r\n          showLine: false,\r\n          showTitle: false,\r\n          dblClickExpand: false,\r\n          fontCss: function(treeId, node) {\r\n            return node.fsuState === false\r\n              ? { color: \"#9A9A9A\" }\r\n              : { color: \"#fff\" };\r\n          }\r\n        },\r\n        data: {\r\n          key: {\r\n            children: \"children\",\r\n            name: \"name\",\r\n            title: \"code\"\r\n          }\r\n        },\r\n        callback: {\r\n          onClick: (event, treeId, treeNode) => {\r\n            if (treeNode.nocheck === false) {\r\n              //如果这个节点是可选的，单击文字的时候将选中此项\r\n              let treeObj = scope.$refs.tree.ztreeObj\r\n              treeObj.checkNode(treeNode, !treeNode.checked, true, true);\r\n            }\r\n          },\r\n          beforeCheck: (treeId, treeNode) => {\r\n            if (this.curDistrict === 0) { return true; }\r\n            let invalid = true;\r\n            const traversal = node => {\r\n              let parent = node.getParentNode()\r\n              if (node.level >= this.curDistrict) {\r\n                if (parent.children.filter(v => v.checked && (v.check_Child_State === 2 || v.check_Child_State === -1)).length != parent.children.length - 1) { invalid = false; return; }\r\n                traversal(parent)\r\n              }\r\n              return true\r\n            }\r\n            if (\r\n              !treeNode.checked &&\r\n              treeNode.level >= this.curDistrict && \r\n              traversal(treeNode) && invalid\r\n            ) {\r\n              return false;\r\n            }\r\n            return true;\r\n          }\r\n          // beforeExpand: beforeExpand\r\n        }\r\n      },\r\n      curDistrict: -1,    \r\n    }\r\n  },\r\n  computed: {\r\n    upgradeFormRules () {\r\n      const versionValidator = (rule, value, callback) => {\r\n        if (!value) { callback(); return; }\r\n        if (!/^([1-9]\\d{0,}|\\d)\\.([1-9]\\d{0,}|\\d)\\.([1-9]\\d{0,}|\\d)\\.([1-9]\\d{0,}|\\d)$/.test(value)) {\r\n          callback(new Error(' '))\r\n        } else callback()\r\n      }\r\n      const versionValidator3 = (rule, value, callback) => {\r\n        if (!value) { callback(); return; }\r\n        if (!/^([1-9]\\d{0,}|\\d)\\.([1-9]\\d{0,}|\\d)\\.([1-9]\\d{0,}|\\d)$/.test(value)) {\r\n          callback(new Error(' '))\r\n        } else callback()\r\n      }\r\n      return {\r\n        businessSceneId: {\r\n          trigger: ['blur', 'change'], validator: (_, v, callback) => !v ? callback(new Error(' ')) : callback(),\r\n        },\r\n        meanwhileUpSize: {\r\n          trigger: ['blur', 'change'], validator: (_, v, callback) => !v ? callback(new Error(' ')) : callback(),\r\n        },\r\n        engineVerStart: {\r\n          trigger: ['blur', 'change'], validator: versionValidator\r\n        },\r\n        engineVerEnd: {\r\n          trigger: ['blur', 'change'], validator: versionValidator\r\n        },\r\n        programVerStart: {\r\n          trigger: ['blur', 'change'], validator: versionValidator\r\n        },\r\n        programVerEnd: {\r\n          trigger: ['blur', 'change'], validator: versionValidator\r\n        },\r\n        smonitorVerStart: {\r\n          trigger: ['blur', 'change'], validator: versionValidator3\r\n        },\r\n        smonitorVerEnd: {\r\n          trigger: ['blur', 'change'], validator: versionValidator3\r\n        },\r\n        upSize: {\r\n          trigger: ['blur', 'change'], validator: (_, v, callback) => !/^([1-9]\\d{0,})$/.test(v) ? callback(new Error(' ')) : callback(),\r\n        },\r\n        repeatNum: {\r\n          trigger: ['blur', 'change'], validator: (_, v, callback) => !/^([1-9]\\d{0,})$/.test(v) ? callback(new Error(' ')) : callback(),\r\n        },\r\n        upSize2: {\r\n          trigger: ['blur', 'change'], validator: (_, v, callback) => !/^([1-9]\\d{0,}|\\d)$/.test(v) ? callback(new Error(' ')) : callback(),\r\n        },\r\n      }\r\n    },\r\n    updateProgramRules () {\r\n      return {\r\n        businessScene:  { trigger: ['blur'], validator: (_, v, callback) => !v ? callback(new Error(' ')) : callback(), },\r\n        product:  { trigger: ['blur'], validator: (_, v, callback) => !v ? callback(new Error(' ')) : callback(), },\r\n      }\r\n    },\r\n    \r\n    programautoUploadUrl () {\r\n      return  process.env.API_HOST + `program/upload?productId=${this.updateProgramForm.product.join('_')}&businessSceneId=${this.updateProgramForm.businessScene}`\r\n    }\r\n  },\r\n  methods: {\r\n    getTierTree () {\r\n      const districtMap = {\r\n        nation: 0,\r\n        province: 1,\r\n        city: 2,\r\n        town: 3,\r\n      }\r\n      return new Promise(rev => this.$api.getTree().then(res => {\r\n        this.curDistrict = districtMap[res.addressScope];\r\n        // this.curDistrict = 0;\r\n        const traversal = (node, level) => {\r\n          if (level < this.curDistrict) {  \r\n            node.chkDisabled = true;\r\n            node.children.forEach(v => traversal(v, level + 1));\r\n          }\r\n        }\r\n        this.nodes = [{name: '全部', children: res.data, open: true}]\r\n        traversal(this.nodes[0], 0);\r\n        console.log(this.nodes);\r\n        rev();\r\n      }))\r\n    },\r\n    autoUploadSuccess (res) {\r\n      this.$message({\r\n        type: res.success ? 'success' : 'error',\r\n        message: res.info\r\n      })\r\n      this.autoFileList = [];\r\n      this.$refs.upgradeUpload.clearFiles();\r\n      this.upgradeForm.fileOrderId = res.data;\r\n    },\r\n    programUploadSuccess (res) {\r\n      this.$message({\r\n        type: res.success ? 'success' : 'error',\r\n        message: res.info\r\n      })\r\n      this.programGetBusList = [];\r\n      this.$refs.programUpload.clearFiles();\r\n      this.updateProgramForm.fileVersion = res.data;\r\n      this.updateProgramForm.fileName = '';\r\n      this.updateProgramLoading = false;\r\n\r\n      this.getProgramList();\r\n    },\r\n    manuallyUpdate () {\r\n      let count = this.updateProgramForm.product.length;\r\n      let resList = []\r\n      const callback = (res) => {\r\n        resList.push(res);\r\n        if (--count === 0) {\r\n          let message = ''\r\n          let failures = resList.filter(v => v.Result = false);\r\n          if (failures.length === 0) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '更新成功'\r\n            })\r\n          } else {\r\n            message = failures.map(v => `义务: ${this.busListAll[this.updateProgramForm.businessScene]}, 机型: ${this.productList[v.product]}, 失败原因: ${v.Reason}`).join('\\n');\r\n            this.$message({\r\n              type: 'error',\r\n              message\r\n            })\r\n          }\r\n        }\r\n      }\r\n\r\n      this.updateProgramForm.product.forEach(v => {\r\n        this.$api.programUpdate({\r\n          businessScene: this.updateProgramForm.businessScene,\r\n          product: v\r\n        }).then(res => {\r\n          callback({product: v, ...JSON.parse(res.data || '{}')})\r\n        })\r\n      })\r\n      this.getProgramList();\r\n    },\r\n    upgradeUploadChanged (file) {\r\n      if (file.response && !file.response.success) { \r\n        this.upgradeForm.fileName = '' \r\n        this.$refs.upgradeUpload.clearFiles();\r\n      } else {\r\n        this.upgradeForm.fileName = file.name;\r\n      }\r\n    },\r\n    programUploadBeforeUpload (file) {\r\n      if (['deviceinfo.xls', 'signal.xlsx', 'soft.caf'].indexOf(file.name) < 0) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '请选择正确的文件: deviceinfo.xls, signal.xlsx, 或者 soft.caf'\r\n        })\r\n        return false;\r\n      }\r\n      // this.$refs.programUpload.clearFiles();\r\n      this.updateProgramForm.fileName = file.name;\r\n      this.updateProgramLoading = true;\r\n      // return false;\r\n      return true;\r\n    },\r\n    getBusListAll () {\r\n      return this.$api.programGetBusList({isCustomize: 0}).then(res => {\r\n        this.busListAll = res.data;\r\n      })\r\n    },\r\n    getBusListCustomized () {\r\n      return this.$api.programGetBusList({isCustomize: 1}).then(res => {\r\n        this.busListCustomized = res.data;\r\n      })\r\n    },\r\n    getProductList () {\r\n      this.$api.programQueryProduct({}).then(res => {\r\n        this.productList = res.data;\r\n      })\r\n    },\r\n    getUpgradeList () {\r\n      return this.$api.autoGetList({\r\n        state: this.isQueryRunningPlan ? 1 : 0\r\n      }).then(res => {\r\n        res.data.forEach(v => {\r\n          v.onEdit = false;\r\n          v.editValue = v.name;\r\n        })\r\n        this.upgradeList = res.data\r\n        \r\n      })\r\n    },\r\n    addBus () {\r\n      this.$api.programSave({description: this.newBus}).then(() => {\r\n        this.getBusListAll();\r\n        this.getBusListCustomized();\r\n      })\r\n    },\r\n    confirmToUpgrade() {\r\n      this.$refs.upgradeForm.validate(validate => {\r\n        if (!validate) { return; }\r\n        if (!(this.upgradeForm.fileOrderId || this.$refs.tree.ztreeObj.getCheckedNodes().filter(v => v.level === 3).length)) {\r\n          this.$message({\r\n            type: 'warning',\r\n            message: '请导入文件或者选择一个区域'\r\n          })\r\n          return;\r\n        }\r\n        this.$api.autoUpCount({\r\n          name: this.$tableFilter('dateFormatFilter')(0, 0, (new Date()).getTime()),\r\n          businessSceneId: this.upgradeForm.businessSceneId,\r\n          fileOrderId: this.upgradeForm.fileOrderId,\r\n          repeatNum: this.upgradeForm.repeatNum,\r\n          sengine: this.upgradeForm.sengine ? 1 : 0,\r\n          smonitor: this.upgradeForm.smonitor ? 1 : 0,\r\n          program: this.upgradeForm.program ? 1 : 0,\r\n          upSize: this.upgradeForm.upSize || null,\r\n          engineVerStart: this.upgradeForm.engineVerStart,\r\n          engineVerEnd: this.upgradeForm.engineVerEnd,\r\n          programVerStart: this.upgradeForm.programVerStart,\r\n          programVerEnd: this.upgradeForm.programVerEnd,\r\n          smonitorVerStart: this.upgradeForm.smonitorVerStart,\r\n          smonitorVerEnd: this.upgradeForm.smonitorVerEnd,\r\n          addressIdList: this.$refs.tree.ztreeObj.getCheckedNodes().filter(v => v.level === 3).map(v => v.id),\r\n          meanwhileUpSize: this.upgradeForm.meanwhileUpSize,\r\n        }).then(res => {\r\n          this.confirmVisible = true;\r\n          this.upgradeCount = res.data;\r\n        })\r\n      })\r\n    },\r\n    upgrade () {\r\n      this.$refs.upgradeForm.validate(validate => {\r\n        if (!validate) { return; }\r\n        this.$api.autoUpdate({\r\n          name: this.$tableFilter('dateFormatFilter')(0, 0, (new Date()).getTime()),\r\n          businessSceneId: this.upgradeForm.businessSceneId,\r\n          fileOrderId: this.upgradeForm.fileOrderId,\r\n          repeatNum: this.upgradeForm.repeatNum,\r\n          sengine: this.upgradeForm.sengine ? 1 : 0,\r\n          smonitor: this.upgradeForm.smonitor ? 1 : 0,\r\n          program: this.upgradeForm.program ? 1 : 0,\r\n          upSize: this.upgradeForm.upSize || null,\r\n          engineVerStart: this.upgradeForm.engineVerStart,\r\n          engineVerEnd: this.upgradeForm.engineVerEnd,\r\n          programVerStart: this.upgradeForm.programVerStart,\r\n          programVerEnd: this.upgradeForm.programVerEnd,\r\n          smonitorVerStart: this.upgradeForm.smonitorVerStart,\r\n          smonitorVerEnd: this.upgradeForm.smonitorVerEnd,\r\n          addressIdList: this.$refs.tree.ztreeObj.getCheckedNodes().filter(v => v.level === 3).map(v => v.id),\r\n          meanwhileUpSize: this.upgradeForm.meanwhileUpSize,\r\n        }).then(res => {\r\n          this.$refs.upgradeForm.resetFields();\r\n          this.$refs.upgradeUpload.clearFiles();\r\n          this.upgradeForm = {\r\n            smonitor: false,\r\n            sengine: false,\r\n            program: false,\r\n            fileName: ''\r\n          }\r\n          this.getUpgradeList()\r\n        })\r\n      })\r\n      this.$api\r\n    },\r\n    stopUpgrade (row) {\r\n      this.$api.autoStopPlan({\r\n        id: row.id\r\n      }).then(res => {\r\n        this.getUpgradeList();\r\n      })\r\n    },\r\n    queryUpgradeDetail (row) {\r\n      row && (this.upgradeDetailPagi.currentId = row.id);\r\n      this.upgradeDetailPagi.currentId &&\r\n      this.$api.autoGetDetail({\r\n        planId: this.upgradeDetailPagi.currentId,\r\n        currentPage: this.upgradeDetailPagi.page,\r\n        pageSize: this.upgradeDetailPagi.pageSize\r\n      }).then(res => {\r\n        this.list = res.data.list;\r\n        this.upgradeDetailPagi.total = res.data.count;\r\n        this.exportUrl = process.env.API_HOST + 'auto/exportCSV?planId=' + row.id;\r\n      })\r\n    },\r\n    getProgramList () {\r\n      this.$api.programGetBusProList({}).then(res => {\r\n        this.updatedProgramList = res.data;\r\n      })\r\n    },\r\n    startEditUpgradeList (plan) {\r\n      let index = this.upgradeList.indexOf(plan);\r\n      plan.onEdit = true;\r\n      this.$nextTick(() => {\r\n        let dom = document.querySelectorAll('.upload-view input.edit-name')[index];\r\n        dom.select();\r\n      })\r\n      \r\n    },\r\n    editUpgradeList (plan) {\r\n      if (!plan.editValue || !plan.editValue.trim()) {\r\n        plan.onEdit = false;\r\n        return;\r\n      }\r\n      if (plan.editValue !== plan.name) {\r\n        this.$api.autoUpName({\r\n          id: plan.id,\r\n          oldName: plan.name,\r\n          name: plan.editValue,\r\n        }).then(res => {\r\n          this.getUpgradeList();\r\n        })\r\n      }\r\n      plan.onEdit = false;\r\n    },\r\n    addAutoRefresh () {\r\n      clearInterval(this.autoRefreshInterval);\r\n\r\n      this.autoRefreshInterval = setInterval(() => {\r\n        this.getUpgradeList().then(_ => {\r\n          this.upgradeDetailPagi.currentId && this.queryUpgradeDetail(this.upgradeList.find(v => v.id === this.upgradeDetailPagi.currentId))\r\n        });\r\n      }, this.autoRefreshIntervalTime * 1000);\r\n      localStorage.setItem('autoRefreshIntervalTime', this.autoRefreshIntervalTime)\r\n    },\r\n  },\r\n  mounted () {\r\n    this.getTierTree().then(() => {\r\n      this.getBusListAll();\r\n      this.getBusListCustomized();\r\n      this.getProductList();\r\n      this.getUpgradeList();\r\n      this.getProgramList();\r\n    });\r\n    this.addAutoRefresh();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .tree{\r\n    background-color: #0B1D3B;\r\n    margin-right: 20px;\r\n    overflow-y: auto;\r\n    &>*{\r\n      margin: 10px 0;\r\n    }\r\n  }\r\n  .left{\r\n    height: 100%;\r\n    flex: 1;\r\n  }\r\n  .right{\r\n    height: 100%;\r\n    background-color: #0B1D3B;\r\n    width: 400px;\r\n    margin-left: 16px;\r\n    position: relative;\r\n    transition: width 0.5s, margin-left 0.5s;\r\n    display: flex;\r\n    .rigth-width-fixed{\r\n      width: 400px;\r\n    }\r\n    a[disabled] {\r\n      color: #fff;\r\n      cursor: default;\r\n    }\r\n  }\r\n  .query-form{\r\n    min-height: 100px;\r\n    width: 100%;\r\n    margin-bottom: 16px;\r\n  }\r\n  .list{\r\n    flex: 1;\r\n    background-color: #0B1D3B;\r\n    overflow: hidden;\r\n    padding-bottom: 10px;\r\n    .table-box{\r\n      flex: 1;\r\n      overflow: hidden;\r\n    }    \r\n  }\r\n\r\n  .update-plan{\r\n    flex: 1;\r\n    overflow: hidden;\r\n    display: flex;\r\n    flex-direction: column;\r\n    .table-box{\r\n      flex: 1;\r\n      padding: 14px;\r\n      overflow-y: auto;\r\n    }\r\n  }\r\n  .stop-update{\r\n    display: block;\r\n    width: 24px;\r\n    height: 24px;\r\n    border-radius: 50%;\r\n    border: 2px solid #00B4FF;\r\n    position: relative;\r\n    cursor: pointer;\r\n    &:before{\r\n      @a: 10px;\r\n      display: block;\r\n      content: \"\";\r\n      position: absolute;\r\n      width: @a;\r\n      height: @a;\r\n      top: (24 - @a) / 2;\r\n      left: (24 - @a) / 2;\r\n      background-color: #00B4FF;\r\n    }\r\n  }\r\n  .stop-update.disabled{\r\n    border-color: #666;\r\n    cursor: not-allowed;\r\n    &:before{\r\n      background-color: #666;\r\n    }\r\n  }\r\n</style>\r\n\r\n<style lang='less'>\r\n#omc-web-body{\r\n  .tree .ztree span.button.chk{\r\n    background-color: transparent;\r\n    border: 1px solid #108EE9;\r\n    &.checkbox_true_full, &.checkbox_true_full_focus, &.checkbox_true_part, &.checkbox_true_part_focus{\r\n      background-color: #108EE9;\r\n    }\r\n  }\r\n  .tree .ztree .curSelectedNode{\r\n    background-color: transparent;\r\n  }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/BatchUpdate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"BatchUpdate\"}},[_c('div',{staticClass:\"wrapper-container df dfh\"},[_c('div',{staticClass:\"tree\",staticStyle:{\"width\":\"232px\",\"height\":\"100%\"}},[_c('tree',{ref:\"tree\",attrs:{\"nodes\":_vm.nodes,\"setting\":_vm.treeSetting}})],1),_vm._v(\" \"),_c('div',{staticClass:\"left df dfv\"},[_c('div',{staticClass:\"query-form df\"},[_c('el-form',{ref:\"upgradeForm\",attrs:{\"inline\":true,\"model\":_vm.upgradeForm,\"label-width\":'100px',\"rules\":_vm.upgradeFormRules}},[_c('el-form-item',{attrs:{\"label\":'业务',\"label-width\":'40px',\"prop\":\"businessSceneId\"}},[_c('el-select',{attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.businessSceneId),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"businessSceneId\", $$v)},expression:\"upgradeForm.businessSceneId\"}},_vm._l((_vm.busListAll),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.description,\"value\":item.id}},[_vm._v(_vm._s(item.description))])}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'升级个数',\"prop\":\"upSize\"}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.upSize),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"upSize\", $$v)},expression:\"upgradeForm.upSize\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'升级轮数',\"prop\":\"repeatNum\"}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.repeatNum),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"repeatNum\", $$v)},expression:\"upgradeForm.repeatNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'同时升级个数',\"prop\":\"meanwhileUpSize\"}},[_c('el-select',{attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.meanwhileUpSize),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"meanwhileUpSize\", $$v)},expression:\"upgradeForm.meanwhileUpSize\"}},_vm._l((_vm.multiUpgradeTimeList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'引擎',\"label-width\":'40px'}},[_c('el-form-item',{attrs:{\"prop\":\"engineVerStart\"}},[_c('el-input',{staticStyle:{\"width\":\"72.5px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.engineVerStart),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"engineVerStart\", $$v)},expression:\"upgradeForm.engineVerStart\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\" - \")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"engineVerEnd\"}},[_c('el-input',{staticStyle:{\"width\":\"72.5px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.engineVerEnd),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"engineVerEnd\", $$v)},expression:\"upgradeForm.engineVerEnd\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'适配层'}},[_c('el-form-item',{attrs:{\"prop\":\"programVerStart\"}},[_c('el-input',{staticStyle:{\"width\":\"72.5px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.programVerStart),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"programVerStart\", $$v)},expression:\"upgradeForm.programVerStart\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\" - \")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"programVerEnd\"}},[_c('el-input',{staticStyle:{\"width\":\"72.5px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.programVerEnd),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"programVerEnd\", $$v)},expression:\"upgradeForm.programVerEnd\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'SMonitor'}},[_c('el-form-item',{attrs:{\"prop\":\"smonitorVerStart\"}},[_c('el-input',{staticStyle:{\"width\":\"72.5px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.smonitorVerStart),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"smonitorVerStart\", $$v)},expression:\"upgradeForm.smonitorVerStart\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\" - \")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"smonitorVerEnd\"}},[_c('el-input',{staticStyle:{\"width\":\"72.5px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.upgradeForm.smonitorVerEnd),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"smonitorVerEnd\", $$v)},expression:\"upgradeForm.smonitorVerEnd\"}})],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form-item',[_c('el-checkbox',{model:{value:(_vm.upgradeForm.sengine),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"sengine\", $$v)},expression:\"upgradeForm.sengine\"}},[_vm._v(\"引擎\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-checkbox',{model:{value:(_vm.upgradeForm.program),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"program\", $$v)},expression:\"upgradeForm.program\"}},[_vm._v(\"适配层\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-checkbox',{model:{value:(_vm.upgradeForm.smonitor),callback:function ($$v) {_vm.$set(_vm.upgradeForm, \"smonitor\", $$v)},expression:\"upgradeForm.smonitor\"}},[_vm._v(\"SMonitor\")])],1),_vm._v(\" \"),(_vm.$hasAuth(1))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.confirmToUpgrade}},[_vm._v(\"确认\")]):_vm._e(),_vm._v(\" \"),_c('el-upload',{ref:\"upgradeUpload\",staticClass:\"upload-file no-file-list\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"on-success\":_vm.autoUploadSuccess,\"on-change\":_vm.upgradeUploadChanged,\"action\":_vm.autoUploadUrl,\"file-list\":_vm.autoFileList}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(_vm._s(_vm.upgradeForm.fileName || '导入'))])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"list df dfv\"},[_c('div',{staticClass:\"list-header\"},[_c('h3'),_vm._v(\" \"),_c('div',{staticClass:\"btn-group\"},[(_vm.exportUrl)?_c('a',{attrs:{\"href\":_vm.exportUrl}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"导出\")])],1):_c('el-button',{attrs:{\"disabled\":\"\",\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"导出\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-box df dfv\"},[_c('el-table',{attrs:{\"data\":_vm.list,\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"prop\":\"stationName\",\"label\":'局站名称'}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fsuId\",\"label\":'FSU ID'}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"serialNo\",\"label\":'出厂码'}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sengineVal\",\"label\":'引擎',\"formatter\":_vm.$tableFilter('nullFilter')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"programVal\",\"label\":'适配层',\"formatter\":_vm.$tableFilter('nullFilter')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"smonitorVal\",\"label\":'SMonitor',\"formatter\":_vm.$tableFilter('nullFilter')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"progress\",\"label\":'进度'}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"total, prev, pager, next,sizes, jumper\",\"page-sizes\":[10, 15, 50, 100],\"page-size\":_vm.upgradeDetailPagi.pageSize,\"total\":_vm.upgradeDetailPagi.total},on:{\"current-change\":_vm.upgradeDetailPagi.handleCurrentChange,\"size-change\":_vm.upgradeDetailPagi.pageSizeChange}})],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"right dfv\",style:({\n        width: _vm.rightIsCollapsed ? 0 : '400px',\n        marginLeft: _vm.rightIsCollapsed ? 0 : '16px'\n      })},[_c('div',{staticClass:\"rigth-width-fixed df dfv f1\"},[_c('div',{staticClass:\"list-header\"},[_c('h3',[_c('a',{style:(_vm.rightView === 1 && 'color: white;'),attrs:{\"disabled\":_vm.rightView === 1},on:{\"click\":function($event){_vm.rightView=1}}},[_vm._v(\"升级计划\")]),_vm._v(\"\\n              |  \\n            \"),_c('a',{style:(_vm.rightView === 0 && 'color: white;'),attrs:{\"disabled\":_vm.rightView === 0},on:{\"click\":function($event){_vm.rightView=0}}},[_vm._v(\"上传适配层\")])]),_vm._v(\" \"),_c('el-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rightView === 1),expression:\"rightView === 1\"}],staticStyle:{\"width\":\"120px\"},attrs:{\"size\":\"mini\"},on:{\"input\":function($event){return _vm.addAutoRefresh()}},model:{value:(_vm.autoRefreshIntervalTime),callback:function ($$v) {_vm.autoRefreshIntervalTime=$$v},expression:\"autoRefreshIntervalTime\"}},_vm._l(([10, 30, 60, 5*60, 10*60, 30*60]),function(i){return _c('el-option',{key:i,attrs:{\"label\":'轮询: ' + (i < 60 ? i + '秒' : i / 60 + '分钟'),\"value\":i}},[_vm._v(_vm._s((i < 60) ? (i + '秒') : (i / 60 + '分钟')))])}),1),_vm._v(\" \"),_c('div',{staticClass:\"btn-group\"},[_c('el-switch',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rightView === 1),expression:\"rightView === 1\"}],staticClass:\"text-collapsed\",attrs:{\"size\":\"mini\",\"width\":58,\"inactive-text\":\"全部\",\"active-text\":\"执行中\",\"active-color\":\"#00B1FF\",\"inactive-color\":\"#888888\"},on:{\"input\":_vm.getUpgradeList},model:{value:(_vm.isQueryRunningPlan),callback:function ($$v) {_vm.isQueryRunningPlan=$$v},expression:\"isQueryRunningPlan\"}})],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rightView === 0),expression:\"rightView === 0\"}],staticClass:\"update-plan\"},[_c('div',{staticClass:\"query-form\"},[_c('el-form',{ref:\"updateProgram\",attrs:{\"label-position\":\"left\",\"model\":_vm.updateProgramForm,\"rules\":_vm.updateProgramRules}},[_c('el-form-item',{attrs:{\"label\":'业务',\"label-width\":\"50px\",\"prop\":\"businessScene\"}},[_c('div',{staticClass:\"ofh\",staticStyle:{\"display\":\"inline-block\",\"height\":\"40px\",\"width\":\"160px\",\"overflow\":\"hidden\",\"vertical-align\":\"middle\"}},[_c('el-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isAddingSub),expression:\"!isAddingSub\"}],attrs:{\"size\":\"mini\"},model:{value:(_vm.updateProgramForm.businessScene),callback:function ($$v) {_vm.$set(_vm.updateProgramForm, \"businessScene\", $$v)},expression:\"updateProgramForm.businessScene\"}},_vm._l((_vm.busListCustomized),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.description,\"value\":item.id}},[_vm._v(_vm._s(item.description))])}),1),_vm._v(\" \"),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isAddingSub),expression:\"isAddingSub\"}],attrs:{\"size\":\"mini\"},model:{value:(_vm.newBus),callback:function ($$v) {_vm.newBus=$$v},expression:\"newBus\"}})],1),_vm._v(\" \"),(!_vm.isAddingSub)?_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$hasAuth(4)),expression:\"$hasAuth(4)\"}],on:{\"click\":function($event){_vm.isAddingSub = true}}},[_vm._v(\"添加\")]):_vm._e(),_vm._v(\" \"),(_vm.isAddingSub)?_c('a',{staticClass:\"el-icon-success\",on:{\"click\":function($event){_vm.newBus && ((_vm.isAddingSub = false),_vm.addBus(),_vm.newBus = '')}}}):_vm._e(),_vm._v(\" \"),(_vm.isAddingSub)?_c('a',{staticClass:\"el-icon-error\",on:{\"click\":function($event){_vm.isAddingSub = false; _vm.newBus = ''}}}):_vm._e()]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'机型',\"label-width\":\"50px\",\"prop\":\"product\"}},[_c('el-select',{attrs:{\"size\":\"mini\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.updateProgramForm.product),callback:function ($$v) {_vm.$set(_vm.updateProgramForm, \"product\", $$v)},expression:\"updateProgramForm.product\"}},_vm._l((_vm.productList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.description,\"value\":item.id}},[_vm._v(_vm._s(item.description))])}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":'适配层文件'}},[_c('br'),_vm._v(\" \"),_c('el-input',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"size\":\"mini\",\"readonly\":\"\"},model:{value:(_vm.updateProgramForm.fileName),callback:function ($$v) {_vm.$set(_vm.updateProgramForm, \"fileName\", $$v)},expression:\"updateProgramForm.fileName\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-upload',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$hasAuth(3)),expression:\"$hasAuth(3)\"}],ref:\"programUpload\",staticClass:\"upload-file no-file-list\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"prop\":\"fileVersion\",\"disabled\":!(_vm.updateProgramForm.product.length > 0 && _vm.updateProgramForm.businessScene != null) || _vm.updateProgramLoading,\"on-success\":_vm.programUploadSuccess,\"before-upload\":_vm.programUploadBeforeUpload,\"action\":_vm.programautoUploadUrl,\"file-list\":_vm.programFileList}},[_c('el-button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"size\":\"mini\",\"disabled\":!(_vm.updateProgramForm.product.length > 0 && _vm.updateProgramForm.businessScene != null) || _vm.updateProgramLoading,\"type\":\"primary\",\"loading\":_vm.updateProgramLoading}},[_vm._v(\"导入\")])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"disabled\":!(_vm.updateProgramForm.product.length > 0 && _vm.updateProgramForm.businessScene != null)},on:{\"click\":_vm.manuallyUpdate}},[_vm._v(\"更新\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('table',{staticClass:\"primal\",attrs:{\"border\":\"1\"}},[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.updatedProgramList),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(\"\\n                  \"+_vm._s(item.businessName)+\"\\n                \")]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                  \"+_vm._s(item.productName)+\"\\n                \")])])})],2)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rightView === 1),expression:\"rightView === 1\"}],staticClass:\"upload-view df dfv f1\"},[_c('div',{staticClass:\"table-box df dfv f1\"},[_c('el-table',{attrs:{\"data\":_vm.upgradeList,\"height\":\"100%\",\"row-class-name\":function (arg) { return arg.row.id === _vm.upgradeDetailPagi.currentId ? 'hover-row' : ''; },\"row-style\":{cursor:'pointer'}},on:{\"row-click\":function($event){_vm.upgradeDetailPagi.page = 1; _vm.queryUpgradeDetail(arguments[0])}}},[_c('el-table-column',{attrs:{\"label\":'名称'},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!scope.row.onEdit),expression:\"!scope.row.onEdit\"}],on:{\"click\":function($event){$event.stopPropagation();return _vm.startEditUpgradeList(scope.row)}}},[_vm._v(_vm._s(scope.row.name))]),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.onEdit),expression:\"scope.row.onEdit\"},{name:\"model\",rawName:\"v-model\",value:(scope.row.editValue),expression:\"scope.row.editValue\"}],staticClass:\"edit-name\",attrs:{\"type\":\"text\"},domProps:{\"value\":(scope.row.editValue)},on:{\"click\":function($event){$event.stopPropagation();return (function (_){ return _; })($event)},\"blur\":function($event){return _vm.editUpgradeList(scope.row)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"editValue\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":'发起人'}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ctime\",\"label\":'时间',\"width\":\"110\",\"formatter\":_vm.$tableFilter('dateFormatFilter')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":'操作',\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.$hasAuth(2))?_c('i',{staticClass:\"stop-update\",class:!scope.row.state && 'disabled',attrs:{\"title\":\"停止\"},on:{\"click\":function($event){$event.stopPropagation();scope.row.state && _vm.stopUpgrade(scope.row)}}}):_vm._e()]}}])})],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"panle-toggle panle-toggle-h\",style:({left: _vm.rightIsCollapsed ? '-20px' : '-10px'}),on:{\"click\":function($event){_vm.rightIsCollapsed = !_vm.rightIsCollapsed}}},[_c('i',{staticClass:\"ic\",class:_vm.rightIsCollapsed ? 'ic-angle-left' : 'ic-angle-right'})])])]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"m400\",attrs:{\"title\":\"确认升级\",\"visible\":_vm.confirmVisible}},[_vm._v(\"\\n    您此次升级的总数是: \"+_vm._s(Math.min(_vm.upgradeCount, _vm.upgradeForm.upSize))+\"\\n    \"),_c('br'),_vm._v(\"\\n    升级的业务是: \"+_vm._s((_vm.busListAll.find(function (v) { return v.id === _vm.upgradeForm.businessSceneId; })||{description: '-'}).description)+\"\\n\\n    \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){_vm.confirmVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.upgradeCount)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.confirmVisible = false; _vm.upgrade();}}},[_vm._v(\"升 级\")]):_vm._e()],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"业务\")]),_vm._v(\" \"),_c('th',[_vm._v(\"机型\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6284b4ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/BatchUpdate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6284b4ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BatchUpdate.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6284b4ce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./BatchUpdate.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BatchUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BatchUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6284b4ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BatchUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6284b4ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BatchUpdate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}